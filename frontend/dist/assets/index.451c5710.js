var Tt=Object.defineProperty;var jt=(t,e,n)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(jt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function q(){}function Pt(t){return t()}function Je(){return Object.create(null)}function re(t){t.forEach(Pt)}function Ct(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Lt(t){return Object.keys(t).length===0}function St(t,...e){if(t==null)return q;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Q(t,e,n){t.$$.on_destroy.push(St(e,n))}function Nt(t,e,n){return t.set(n),e}function s(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function w(){return N(" ")}function F(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Rt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function De(t){return t===""?null:+t}function Vt(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function se(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ke(t,e,n){for(let l=0;l<t.options.length;l+=1){const i=t.options[l];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function At(t){const e=t.querySelector(":checked");return e&&e.__value}function ie(t,e,n){t.classList[n?"add":"remove"](e)}let Se;function Ce(t){Se=t}function Mt(){if(!Se)throw new Error("Function called outside component initialization");return Se}function Ht(t){Mt().$$.on_mount.push(t)}const ye=[],Ye=[];let $e=[];const Qe=[],qt=Promise.resolve();let He=!1;function It(){He||(He=!0,qt.then(Ot))}function Le(t){$e.push(t)}const Me=new Set;let be=0;function Ot(){if(be!==0)return;const t=Se;do{try{for(;be<ye.length;){const e=ye[be];be++,Ce(e),Wt(e.$$)}}catch(e){throw ye.length=0,be=0,e}for(Ce(null),ye.length=0,be=0;Ye.length;)Ye.pop()();for(let e=0;e<$e.length;e+=1){const n=$e[e];Me.has(n)||(Me.add(n),n())}$e.length=0}while(ye.length);for(;Qe.length;)Qe.pop()();He=!1,Me.clear(),Ce(t)}function Wt(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}function Ft(t){const e=[],n=[];$e.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),$e=e}const je=new Set;let pe;function ue(){pe={r:0,c:[],p:pe}}function ae(){pe.r||re(pe.c),pe=pe.p}function H(t,e){t&&t.i&&(je.delete(t),t.i(e))}function W(t,e,n,l){if(t&&t.o){if(je.has(t))return;je.add(t),pe.c.push(()=>{je.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Bt(t,e){t.d(1),e.delete(t.key)}function zt(t,e,n,l,i,r,o,c,u,p,v,m){let a=t.length,_=r.length,d=a;const k={};for(;d--;)k[t[d].key]=d;const g=[],P=new Map,b=new Map,$=[];for(d=_;d--;){const A=m(i,r,d),O=n(A);let C=o.get(O);C?l&&$.push(()=>C.p(A,e)):(C=p(O,A),C.c()),P.set(O,g[d]=C),O in k&&b.set(O,Math.abs(d-k[O]))}const T=new Set,S=new Set;function M(A){H(A,1),A.m(c,v),o.set(A.key,A),v=A.first,_--}for(;a&&_;){const A=g[_-1],O=t[a-1],C=A.key,L=O.key;A===O?(v=A.first,a--,_--):P.has(L)?!o.has(C)||T.has(C)?M(A):S.has(L)?a--:b.get(C)>b.get(L)?(S.add(C),M(A)):(T.add(L),a--):(u(O,o),a--)}for(;a--;){const A=t[a];P.has(A.key)||u(A,o)}for(;_;)M(g[_-1]);return re($),g}function ee(t){t&&t.c()}function X(t,e,n,l){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),l||Le(()=>{const o=t.$$.on_mount.map(Pt).filter(Ct);t.$$.on_destroy?t.$$.on_destroy.push(...o):re(o),t.$$.on_mount=[]}),r.forEach(Le)}function Z(t,e){const n=t.$$;n.fragment!==null&&(Ft(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ut(t,e){t.$$.dirty[0]===-1&&(ye.push(t),It(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,l,i,r,o,c=[-1]){const u=Se;Ce(t);const p=t.$$={fragment:null,ctx:[],props:r,update:q,not_equal:i,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Je(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(p.root);let v=!1;if(p.ctx=n?n(t,e.props||{},(m,a,..._)=>{const d=_.length?_[0]:a;return p.ctx&&i(p.ctx[m],p.ctx[m]=d)&&(!p.skip_bound&&p.bound[m]&&p.bound[m](d),v&&Ut(t,m)),a}):[],p.update(),v=!0,re(p.before_update),p.fragment=l?l(p.ctx):!1,e.target){if(e.hydrate){const m=Vt(e.target);p.fragment&&p.fragment.l(m),m.forEach(j)}else p.fragment&&p.fragment.c();e.intro&&H(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),Ot()}Ce(u)}class ne{$destroy(){Z(this,1),this.$destroy=q}$on(e,n){if(!Ct(n))return q;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const we=[];function de(t,e=q){let n;const l=new Set;function i(c){if(x(t,c)&&(t=c,n)){const u=!we.length;for(const p of l)p[1](),we.push(p,t);if(u){for(let p=0;p<we.length;p+=2)we[p][0](we[p+1]);we.length=0}}}function r(c){i(c(t))}function o(c,u=q){const p=[c,u];return l.add(p),l.size===1&&(n=e(i)||q),c(t),()=>{l.delete(p),l.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:o}}const fe=de("overview"),oe=de(!1),me=de("run-info");fe.subscribe(t=>{oe.set(!1)});const Ve=de(!1);function Gt(){return window.go.controllers.TrainingPlanController.CreateNewPlan()}function Jt(t){return window.go.controllers.TrainingPlanController.DeletePlan(t)}function Kt(){return window.go.controllers.TrainingPlanController.GetAllPlans()}function Yt(t){return window.go.controllers.TrainingPlanController.SavePlan(t)}var Xe;(t=>{class e{constructor(i={}){Y(this,"id");Y(this,"title");Y(this,"distance");Y(this,"run_type");Y(this,"week");Y(this,"day");Y(this,"notes");Y(this,"completed");typeof i=="string"&&(i=JSON.parse(i)),this.id=i.id,this.title=i.title,this.distance=i.distance,this.run_type=i.run_type,this.week=i.week,this.day=i.day,this.notes=i.notes,this.completed=i.completed}static createFrom(i={}){return new e(i)}}t.Run=e;class n{constructor(i={}){Y(this,"id");Y(this,"name");Y(this,"description");Y(this,"start_date");Y(this,"weeks");Y(this,"runs");typeof i=="string"&&(i=JSON.parse(i)),this.id=i.id,this.name=i.name,this.description=i.description,this.start_date=i.start_date,this.weeks=i.weeks,this.runs=this.convertValues(i.runs,e)}static createFrom(i={}){return new n(i)}convertValues(i,r,o=!1){if(!i)return i;if(i.slice&&i.map)return i.map(c=>this.convertValues(c,r));if(typeof i=="object"){if(o){for(const c of Object.keys(i))i[c]=new r(i[c]);return i}return new r(i)}return i}}t.TrainingPlan=n})(Xe||(Xe={}));const U=de();let Te=!1,Ze="";U.subscribe(async t=>{if(!Te&&!!t)try{Te=!0,await Yt(t),Ze=""}catch{Ze="Failed to save plan",Te=!0}finally{Te=!1}});const ve=de();function xe(t,e,n){const l=t.slice();return l[7]=e[n],l}function et(t){let e,n;return{c(){e=f("p"),n=N(t[1]),h(e,"class","error")},m(l,i){V(l,e,i),s(e,n)},p(l,i){i&2&&I(n,l[1])},d(l){l&&j(e)}}}function tt(t){let e;return{c(){e=f("p"),e.textContent="The Traningplan varaible is null"},m(n,l){V(n,e,l)},d(n){n&&j(e)}}}function nt(t,e){let n,l,i,r=e[7].name+"",o,c,u,p,v=e[7].weeks+"",m,a,_,d,k=e[7].start_date+"",g,P,b,$,T,S,M;function A(){return e[5](e[7])}return{key:t,first:null,c(){n=f("div"),l=f("div"),i=f("h3"),o=N(r),c=w(),u=f("p"),p=N("Weeks: "),m=N(v),a=w(),_=f("p"),d=N("Start Date: "),g=N(k),P=w(),b=f("div"),$=f("button"),$.textContent="Select",T=w(),h(n,"class","training-plan svelte-1ay3hxv"),this.first=n},m(O,C){V(O,n,C),s(n,l),s(l,i),s(i,o),s(l,c),s(l,u),s(u,p),s(u,m),s(l,a),s(l,_),s(_,d),s(_,g),s(n,P),s(n,b),s(b,$),s(n,T),S||(M=F($,"click",A),S=!0)},p(O,C){e=O,C&4&&r!==(r=e[7].name+"")&&I(o,r),C&4&&v!==(v=e[7].weeks+"")&&I(m,v),C&4&&k!==(k=e[7].start_date+"")&&I(g,k)},d(O){O&&j(n),S=!1,M()}}}function Qt(t){let e,n,l,i,r,o,c,u=[],p=new Map,v,m,a,_,d=t[1]&&et(t),k=t[2]==null&&tt(),g=t[2];const P=b=>b[7].id;for(let b=0;b<g.length;b+=1){let $=xe(t,g,b),T=P($);p.set(T,u[b]=nt(T,$))}return{c(){e=f("div"),d&&d.c(),n=w(),l=f("div"),l.innerHTML="<h2>Training Plans</h2>",i=w(),r=f("div"),k&&k.c(),o=w(),c=f("div");for(let b=0;b<u.length;b+=1)u[b].c();v=w(),m=f("button"),m.textContent="Create New Plan",h(c,"class","list svelte-1ay3hxv"),h(e,"class","container svelte-1ay3hxv")},m(b,$){V(b,e,$),d&&d.m(e,null),s(e,n),s(e,l),s(e,i),s(e,r),k&&k.m(r,null),s(r,o),s(r,c);for(let T=0;T<u.length;T+=1)u[T]&&u[T].m(c,null);s(e,v),s(e,m),a||(_=F(m,"click",t[3]),a=!0)},p(b,[$]){b[1]?d?d.p(b,$):(d=et(b),d.c(),d.m(e,n)):d&&(d.d(1),d=null),b[2]==null?k||(k=tt(),k.c(),k.m(r,o)):k&&(k.d(1),k=null),$&20&&(g=b[2],u=zt(u,$,P,1,b,g,p,c,Bt,nt,null,xe))},i:q,o:q,d(b){b&&j(e),d&&d.d(),k&&k.d();for(let $=0;$<u.length;$+=1)u[$].d();a=!1,_()}}}function Xt(t,e,n){let l,i=q,r=()=>(i(),i=St(o,a=>n(2,l=a)),o);t.$$.on_destroy.push(()=>i());let o=de([]);r();let c="";async function u(){try{const a=await Kt();o.set(a!=null?a:[])}catch{n(1,c="Failed to load training plans. Please try again.")}}async function p(){try{const a=await Gt();o===null?r(n(0,o=de([a]))):o.update(_=>[..._,a]),U.set(a),me.set("plan-settings"),oe.set(!0),Ve.set(!1)}catch{n(1,c="Failed to create a new training plan. Please try again.")}}async function v(a){U.set(a),fe.set("overview")}return Ht(u),[o,c,l,p,v,a=>v(a)]}class Zt extends ne{constructor(e){super(),te(this,e,Xt,Qt,x,{})}}const Pe={1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"},xt={1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT",7:"SUN"};function en(t){return t.toString().padStart(2,"0")}function lt(t){const e=t.getDate(),n=t.toLocaleString("en-US",{month:"short"});return`${en(e)} ${n}`}const tn=()=>Math.random().toString(36).substring(2);var qe=(t=>(t.EASY="Easy Run",t.INTERVALS="Intervals",t.THRESHOLD="Threshold",t.HILLS="Hills",t.LONG="Long run",t.Recovery="Recovery",t.RACE="Race",t))(qe||{});const Ie={["Easy Run"]:"#0099ff",Intervals:"#ffcc00",Threshold:"#99ccff",Hills:"#339933",["Long run"]:"#cc33ff",Recovery:"#00cc66",Race:"#ff3300"};function nn(t,e){const n={id:tn(),week:e,day:t,distance:0,title:"Run",notes:"",run_type:"Easy Run",completed:!1};U.update(l=>({...l,runs:[...(l==null?void 0:l.runs)||[],n],convertValues:l==null?void 0:l.convertValues})),ve.set(n),me.set("run-edit"),oe.set(!0)}function ln(t){let e,n,l,i,r,o,c=t[0].title+"",u,p,v,m,a,_=t[0].run_type+"",d,k,g=t[0].distance+"",P,b,$,T,S,M,A,O;return{c(){e=f("div"),n=f("div"),l=w(),i=f("div"),r=f("div"),o=f("b"),u=N(c),p=w(),v=f("div"),m=f("div"),a=f("span"),d=N(_),k=N(" - "),P=N(g),b=N(" km"),$=w(),T=f("div"),S=f("span"),M=N(t[1]),h(n,"class","color-bar svelte-1kla7n7"),se(n,"background-color",t[2]),h(o,"class","title"),h(r,"class","info-row svelte-1kla7n7"),h(a,"class","distance"),h(m,"class","stats"),h(v,"class","info-row svelte-1kla7n7"),h(i,"class","infos svelte-1kla7n7"),h(T,"class","completed"),h(e,"class","preview-container svelte-1kla7n7")},m(C,L){V(C,e,L),s(e,n),s(e,l),s(e,i),s(i,r),s(r,o),s(o,u),s(i,p),s(i,v),s(v,m),s(m,a),s(a,d),s(a,k),s(a,P),s(a,b),s(e,$),s(e,T),s(T,S),s(S,M),A||(O=[F(e,"click",t[3]),F(e,"keydown",t[3])],A=!0)},p(C,[L]){L&4&&se(n,"background-color",C[2]),L&1&&c!==(c=C[0].title+"")&&I(u,c),L&1&&_!==(_=C[0].run_type+"")&&I(d,_),L&1&&g!==(g=C[0].distance+"")&&I(P,g),L&2&&I(M,C[1])},i:q,o:q,d(C){C&&j(e),A=!1,re(O)}}}function rn(t,e,n){let l,i,{run:r}=e;function o(){ve.set(r),oe.set(!0),me.set("run-info")}return t.$$set=c=>{"run"in c&&n(0,r=c.run)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=Ie[r.run_type]||"#grey"),t.$$.dirty&1&&n(1,i=r.completed?"\u2713":"")},[r,i,l,o]}class sn extends ne{constructor(e){super(),te(this,e,rn,ln,x,{run:0})}}function it(t,e,n){const l=t.slice();return l[13]=e[n].day,l[14]=e[n].workouts,l[15]=e[n].dayNumber,l[17]=n,l}function rt(t,e,n){const l=t.slice();return l[18]=e[n],l}function st(t,e,n){const l=t.slice();return l[14]=e[n].workouts,l[15]=e[n].dayNumber,l[17]=n,l}function ot(t){let e,n=(t[14].length>0?dt(t[14]):"")+"",l,i;return{c(){e=f("span"),l=N(n),i=w(),h(e,"class","day-box svelte-1cp9ip8"),se(e,"background-color",t[14].length>0?t[9](t[14]):"transparent")},m(r,o){V(r,e,o),s(e,l),s(e,i)},p(r,o){o&64&&n!==(n=(r[14].length>0?dt(r[14]):"")+"")&&I(l,n),o&64&&se(e,"background-color",r[14].length>0?r[9](r[14]):"transparent")},d(r){r&&j(e)}}}function ut(t){let e,n,l=t[6],i=[];for(let o=0;o<l.length;o+=1)i[o]=ft(it(t,l,o));const r=o=>W(i[o],1,1,()=>{i[o]=null});return{c(){e=f("div");for(let o=0;o<i.length;o+=1)i[o].c();h(e,"class","week-content")},m(o,c){V(o,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);n=!0},p(o,c){if(c&324){l=o[6];let u;for(u=0;u<l.length;u+=1){const p=it(o,l,u);i[u]?(i[u].p(p,c),H(i[u],1)):(i[u]=ft(p),i[u].c(),H(i[u],1),i[u].m(e,null))}for(ue(),u=l.length;u<i.length;u+=1)r(u);ae()}},i(o){if(!n){for(let c=0;c<l.length;c+=1)H(i[c]);n=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)W(i[c]);n=!1},d(o){o&&j(e),he(i,o)}}}function at(t){let e,n,l;return n=new sn({props:{run:t[18]}}),{c(){e=f("div"),ee(n.$$.fragment),h(e,"class","run-preview svelte-1cp9ip8")},m(i,r){V(i,e,r),X(n,e,null),l=!0},p(i,r){const o={};r&64&&(o.run=i[18]),n.$set(o)},i(i){l||(H(n.$$.fragment,i),l=!0)},o(i){W(n.$$.fragment,i),l=!1},d(i){i&&j(e),Z(n)}}}function ct(t){let e,n,l;function i(){return t[12](t[15])}return{c(){e=f("button"),e.textContent="+ Add Run",h(e,"class","add-run svelte-1cp9ip8")},m(r,o){V(r,e,o),n||(l=F(e,"click",i),n=!0)},p(r,o){t=r},d(r){r&&j(e),n=!1,l()}}}function ft(t){let e,n,l=t[13]+"",i,r,o,c,u,p,v=t[14],m=[];for(let d=0;d<v.length;d+=1)m[d]=at(rt(t,v,d));const a=d=>W(m[d],1,1,()=>{m[d]=null});let _=t[14].length<2&&ct(t);return{c(){e=f("div"),n=f("div"),i=N(l),r=w(),o=f("div");for(let d=0;d<m.length;d+=1)m[d].c();c=w(),_&&_.c(),u=w(),h(n,"class","day-name svelte-1cp9ip8"),h(o,"class","day-runs svelte-1cp9ip8"),h(e,"class","day-row svelte-1cp9ip8"),ie(e,"is-today",t[2]&&new Date().getDay()===t[15])},m(d,k){V(d,e,k),s(e,n),s(n,i),s(e,r),s(e,o);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(o,null);s(o,c),_&&_.m(o,null),s(e,u),p=!0},p(d,k){if((!p||k&64)&&l!==(l=d[13]+"")&&I(i,l),k&64){v=d[14];let g;for(g=0;g<v.length;g+=1){const P=rt(d,v,g);m[g]?(m[g].p(P,k),H(m[g],1)):(m[g]=at(P),m[g].c(),H(m[g],1),m[g].m(o,c))}for(ue(),g=v.length;g<m.length;g+=1)a(g);ae()}d[14].length<2?_?_.p(d,k):(_=ct(d),_.c(),_.m(o,null)):_&&(_.d(1),_=null),(!p||k&68)&&ie(e,"is-today",d[2]&&new Date().getDay()===d[15])},i(d){if(!p){for(let k=0;k<v.length;k+=1)H(m[k]);p=!0}},o(d){m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)W(m[k]);p=!1},d(d){d&&j(e),he(m,d),_&&_.d()}}}function on(t){let e,n,l,i,r,o,c,u,p,v,m,a,_,d,k,g,P,b,$,T,S,M,A,O=t[6],C=[];for(let D=0;D<O.length;D+=1)C[D]=ot(st(t,O,D));let L=t[1]&&ut(t);return{c(){e=f("div"),n=f("div"),l=f("div"),i=f("span"),r=N("W"),o=N(t[0]),c=w(),u=f("span"),p=N(t[3]),v=w(),m=f("span"),a=N(t[4]),_=N("/"),d=N(t[5]),k=N(" km"),g=w(),P=f("span");for(let D=0;D<C.length;D+=1)C[D].c();b=w(),$=f("span"),$.textContent="\u25BC",T=w(),L&&L.c(),h(i,"class","week-number svelte-1cp9ip8"),h(u,"class","week-dates svelte-1cp9ip8"),h(m,"class","week-total svelte-1cp9ip8"),h(P,"class","day-boxes svelte-1cp9ip8"),h(l,"class","week-title svelte-1cp9ip8"),h($,"class","arrow svelte-1cp9ip8"),ie($,"open",t[1]),h(n,"class","week-header svelte-1cp9ip8"),h(n,"tabindex",t[0]),h(n,"role","button"),ie(n,"this-week",t[2]),h(e,"class","week-overview svelte-1cp9ip8")},m(D,y){V(D,e,y),s(e,n),s(n,l),s(l,i),s(i,r),s(i,o),s(l,c),s(l,u),s(u,p),s(l,v),s(l,m),s(m,a),s(m,_),s(m,d),s(m,k),s(l,g),s(l,P);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(P,null);s(n,b),s(n,$),s(e,T),L&&L.m(e,null),S=!0,M||(A=[F(n,"click",t[7]),F(n,"keypress",t[7])],M=!0)},p(D,[y]){if((!S||y&1)&&I(o,D[0]),(!S||y&8)&&I(p,D[3]),(!S||y&16)&&I(a,D[4]),(!S||y&32)&&I(d,D[5]),y&576){O=D[6];let R;for(R=0;R<O.length;R+=1){const E=st(D,O,R);C[R]?C[R].p(E,y):(C[R]=ot(E),C[R].c(),C[R].m(P,null))}for(;R<C.length;R+=1)C[R].d(1);C.length=O.length}(!S||y&2)&&ie($,"open",D[1]),(!S||y&1)&&h(n,"tabindex",D[0]),(!S||y&4)&&ie(n,"this-week",D[2]),D[1]?L?(L.p(D,y),y&2&&H(L,1)):(L=ut(D),L.c(),H(L,1),L.m(e,null)):L&&(ue(),W(L,1,1,()=>{L=null}),ae())},i(D){S||(H(L),S=!0)},o(D){W(L),S=!1},d(D){D&&j(e),he(C,D),L&&L.d(),M=!1,re(A)}}}function dt(t){return t.reduce((e,n)=>e+(n.distance||0),0).toFixed(0)}function un(t,e,n){let l,i,r,o,c,u,p;Q(t,U,g=>n(11,p=g));let{week:v}=e,m=!1;function a(){n(1,m=!m)}function _(g){nn(g,v),oe.set(!1)}function d(g){return g.length===0?"transparent":Ie[g[0].run_type]||"#888"}const k=g=>_(g);return t.$$set=g=>{"week"in g&&n(0,v=g.week)},t.$$.update=()=>{t.$$.dirty&2049&&n(10,l=p.runs?p.runs.filter(g=>g.week===v):[]),t.$$.dirty&1024&&n(6,i=Object.entries(xt).map(([g,P])=>({day:P,dayNumber:parseInt(g),workouts:l.filter(b=>b.day===parseInt(g))}))),t.$$.dirty&1024&&n(5,r=l.reduce((g,P)=>g+(P.distance||0),0).toFixed(0)),t.$$.dirty&1024&&n(4,o=l.reduce((g,P)=>g+(P.completed?P.distance:0),0)),t.$$.dirty&2049&&n(3,c=(()=>{if(!(p!=null&&p.start_date))return"";const g=new Date(p.start_date),P=new Date(g);P.setDate(g.getDate()+(v-1)*7);const b=new Date(P);return b.setDate(P.getDate()+6),`${lt(P)} - ${lt(b)}`})()),t.$$.dirty&2049&&n(2,u=(()=>{const g=new Date,P=new Date(p.start_date),b=new Date(P);b.setDate(P.getDate()+(v-1)*7);const $=new Date(b);return $.setDate(b.getDate()+6),g>=b&&g<=$})())},[v,m,u,c,o,r,i,a,_,d,l,p,k]}class an extends ne{constructor(e){super(),te(this,e,un,on,x,{week:0})}}function _t(t,e,n){const l=t.slice();return l[7]=e[n],l}function pt(t,e,n){const l=t.slice();return l[7]=e[n],l}function cn(t){let e,n,l,i,r=t[1].description+"",o,c,u,p,v,m,a,_,d,k,g,P,b,$;function T(y,R){return y[3].length>0?_n:dn}let S=T(t),M=S(t);function A(y,R){return y[2]?vn:pn}let O=A(t),C=O(t),L=t[0],D=[];for(let y=0;y<L.length;y+=1)D[y]=ht(_t(t,L,y));return{c(){e=f("div"),n=f("h3"),n.textContent="-- Plan Description --",l=w(),i=f("div"),o=N(r),c=w(),u=f("div"),p=f("h3"),p.textContent="-- Todays activity --",v=w(),M.c(),m=w(),a=f("div"),_=f("h3"),_.textContent="-- Next run --",d=w(),C.c(),k=w(),g=f("div"),P=f("h3"),P.textContent="-- Week Overview --",b=w(),$=f("div");for(let y=0;y<D.length;y+=1)D[y].c();h(i,"class","description svelte-195w6tk"),h(e,"class","dashboard-section"),h(u,"class","dashboard-section"),h(a,"class","dashboard-section"),h($,"class","workouts-list svelte-195w6tk"),h(g,"class","dashboard-section")},m(y,R){V(y,e,R),s(e,n),s(e,l),s(e,i),s(i,o),V(y,c,R),V(y,u,R),s(u,p),s(u,v),M.m(u,null),V(y,m,R),V(y,a,R),s(a,_),s(a,d),C.m(a,null),V(y,k,R),V(y,g,R),s(g,P),s(g,b),s(g,$);for(let E=0;E<D.length;E+=1)D[E]&&D[E].m($,null)},p(y,R){if(R&2&&r!==(r=y[1].description+"")&&I(o,r),S===(S=T(y))&&M?M.p(y,R):(M.d(1),M=S(y),M&&(M.c(),M.m(u,null))),O===(O=A(y))&&C?C.p(y,R):(C.d(1),C=O(y),C&&(C.c(),C.m(a,null))),R&1){L=y[0];let E;for(E=0;E<L.length;E+=1){const G=_t(y,L,E);D[E]?D[E].p(G,R):(D[E]=ht(G),D[E].c(),D[E].m($,null))}for(;E<D.length;E+=1)D[E].d(1);D.length=L.length}},d(y){y&&j(e),y&&j(c),y&&j(u),M.d(),y&&j(m),y&&j(a),C.d(),y&&j(k),y&&j(g),he(D,y)}}}function fn(t){let e;return{c(){e=f("h2"),e.textContent="Plan has not started yet"},m(n,l){V(n,e,l)},p:q,d(n){n&&j(e)}}}function dn(t){let e;return{c(){e=f("div"),e.textContent="No workouts scheduled for today"},m(n,l){V(n,e,l)},p:q,d(n){n&&j(e)}}}function _n(t){let e,n=t[3],l=[];for(let i=0;i<n.length;i+=1)l[i]=vt(pt(t,n,i));return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();h(e,"class","workouts-list svelte-195w6tk")},m(i,r){V(i,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(i,r){if(r&8){n=i[3];let o;for(o=0;o<n.length;o+=1){const c=pt(i,n,o);l[o]?l[o].p(c,r):(l[o]=vt(c),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&j(e),he(l,i)}}}function vt(t){let e,n,l=t[7].title+"",i,r,o,c=t[7].run_type+"",u,p,v=t[7].distance+"",m,a,_,d,k=t[7].notes+"",g,P;return{c(){e=f("div"),n=f("h3"),i=N(l),r=w(),o=f("div"),u=N(c),p=N(" - "),m=N(v),a=N("km"),_=w(),d=f("div"),g=N(k),P=w(),h(e,"class","workout-item-detailed svelte-195w6tk")},m(b,$){V(b,e,$),s(e,n),s(n,i),s(e,r),s(e,o),s(o,u),s(o,p),s(o,m),s(o,a),s(e,_),s(e,d),s(d,g),s(e,P)},p(b,$){$&8&&l!==(l=b[7].title+"")&&I(i,l),$&8&&c!==(c=b[7].run_type+"")&&I(u,c),$&8&&v!==(v=b[7].distance+"")&&I(m,v),$&8&&k!==(k=b[7].notes+"")&&I(g,k)},d(b){b&&j(e)}}}function pn(t){let e;return{c(){e=f("div"),e.textContent="No upcoming runs scheduled"},m(n,l){V(n,e,l)},p:q,d(n){n&&j(e)}}}function vn(t){let e,n,l=t[2].title+"",i,r,o,c,u=t[2].week+"",p,v,m=Pe[t[2].day]+"",a,_,d,k=t[2].run_type+"",g,P,b=t[2].distance+"",$,T;return{c(){e=f("div"),n=f("h3"),i=N(l),r=w(),o=f("div"),c=N("Week "),p=N(u),v=N(", "),a=N(m),_=w(),d=f("div"),g=N(k),P=N(" - "),$=N(b),T=N("km"),h(e,"class","workout-item-detailed svelte-195w6tk")},m(S,M){V(S,e,M),s(e,n),s(n,i),s(e,r),s(e,o),s(o,c),s(o,p),s(o,v),s(o,a),s(e,_),s(e,d),s(d,g),s(d,P),s(d,$),s(d,T)},p(S,M){M&4&&l!==(l=S[2].title+"")&&I(i,l),M&4&&u!==(u=S[2].week+"")&&I(p,u),M&4&&m!==(m=Pe[S[2].day]+"")&&I(a,m),M&4&&k!==(k=S[2].run_type+"")&&I(g,k),M&4&&b!==(b=S[2].distance+"")&&I($,b)},d(S){S&&j(e)}}}function ht(t){let e,n,l=Pe[t[7].day]+"",i,r,o,c,u=t[7].distance+"",p,v,m,a,_=t[7].run_type+"",d,k;return{c(){e=f("div"),n=f("div"),i=N(l),r=w(),o=f("div"),c=f("span"),p=N(u),v=N(" km"),m=w(),a=f("div"),d=N(_),k=w(),se(n,"width","90px"),se(c,"justity-content","right"),se(o,"width","60px"),h(e,"class","workout-item svelte-195w6tk")},m(g,P){V(g,e,P),s(e,n),s(n,i),s(e,r),s(e,o),s(o,c),s(c,p),s(c,v),s(e,m),s(e,a),s(a,d),s(e,k)},p(g,P){P&1&&l!==(l=Pe[g[7].day]+"")&&I(i,l),P&1&&u!==(u=g[7].distance+"")&&I(p,u),P&1&&_!==(_=g[7].run_type+"")&&I(d,_)},d(g){g&&j(e)}}}function hn(t){let e;function n(r,o){return r[4]?cn:fn}let l=n(t),i=l(t);return{c(){e=f("div"),i.c(),h(e,"class","dashboard svelte-195w6tk")},m(r,o){V(r,e,o),i.m(e,null)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null)))},i:q,o:q,d(r){r&&j(e),i.d()}}}function mn(t,e,n){let l,i,r,o,c,u;Q(t,U,v=>n(1,u=v));let p=new Date().getDay()===0?7:new Date().getDay();return t.$$.update=()=>{var v,m,a;t.$$.dirty&2&&n(5,l=u?Math.ceil((new Date().getTime()-new Date(u.start_date).getTime())/(1e3*60*60*24*7)):1),t.$$.dirty&34&&n(4,i=u?l>=1&&l<=u.weeks:!1),t.$$.dirty&34&&n(0,r=(m=(v=u==null?void 0:u.runs)==null?void 0:v.filter(_=>_.week===l))!=null?m:[]),t.$$.dirty&1&&n(3,o=r.filter(_=>_.day===p)),t.$$.dirty&34&&n(2,c=(a=u==null?void 0:u.runs)==null?void 0:a.find(_=>_.week===l?_.day>p:_.week===l+1))},[r,u,c,o,i,l]}class gn extends ne{constructor(e){super(),te(this,e,mn,hn,x,{})}}function kn(t){let e,n,l,i,r=t[0].name+"",o,c,u,p,v=t[0].weeks+"",m,a,_=t[0].start_date+"",d,k,g,P,b,$;return{c(){e=f("div"),n=f("div"),l=f("h1"),i=N("--- "),o=N(r),c=N(" ---"),u=w(),p=f("p"),m=N(v),a=N(" weeks - Start: "),d=N(_),k=w(),g=f("div"),P=f("button"),P.textContent="Plan Settings",h(n,"class","plan-info"),h(g,"class","button-group svelte-d8dpri"),h(e,"class","header svelte-d8dpri")},m(T,S){V(T,e,S),s(e,n),s(n,l),s(l,i),s(l,o),s(l,c),s(n,u),s(n,p),s(p,m),s(p,a),s(p,d),s(e,k),s(e,g),s(g,P),b||($=F(P,"click",t[1]),b=!0)},p(T,[S]){S&1&&r!==(r=T[0].name+"")&&I(o,r),S&1&&v!==(v=T[0].weeks+"")&&I(m,v),S&1&&_!==(_=T[0].start_date+"")&&I(d,_)},i:q,o:q,d(T){T&&j(e),b=!1,$()}}}function bn(t,e,n){let l;Q(t,U,r=>n(0,l=r));async function i(){me.set("plan-settings"),oe.set(!0)}return[l,i]}class Et extends ne{constructor(e){super(),te(this,e,bn,kn,x,{})}}function mt(t,e,n){const l=t.slice();return l[3]=e[n],l}function wn(t){let e,n,l,i,r;return{c(){e=f("h1"),e.textContent="No plan Selected",n=w(),l=f("button"),l.textContent="Select Plan"},m(o,c){V(o,e,c),V(o,n,c),V(o,l,c),i||(r=F(l,"click",t[2]),i=!0)},p:q,i:q,o:q,d(o){o&&j(e),o&&j(n),o&&j(l),i=!1,r()}}}function yn(t){let e,n,l,i,r,o,c,u;e=new Et({}),i=new gn({});let p=t[1],v=[];for(let a=0;a<p.length;a+=1)v[a]=gt(mt(t,p,a));const m=a=>W(v[a],1,1,()=>{v[a]=null});return{c(){ee(e.$$.fragment),n=w(),l=f("div"),ee(i.$$.fragment),r=w(),o=f("div"),c=f("div");for(let a=0;a<v.length;a+=1)v[a].c();h(c,"class","weeks svelte-neu97m"),h(o,"class","weeks-container svelte-neu97m"),h(l,"class","content svelte-neu97m")},m(a,_){X(e,a,_),V(a,n,_),V(a,l,_),X(i,l,null),s(l,r),s(l,o),s(o,c);for(let d=0;d<v.length;d+=1)v[d]&&v[d].m(c,null);u=!0},p(a,_){if(_&2){p=a[1];let d;for(d=0;d<p.length;d+=1){const k=mt(a,p,d);v[d]?(v[d].p(k,_),H(v[d],1)):(v[d]=gt(k),v[d].c(),H(v[d],1),v[d].m(c,null))}for(ue(),d=p.length;d<v.length;d+=1)m(d);ae()}},i(a){if(!u){H(e.$$.fragment,a),H(i.$$.fragment,a);for(let _=0;_<p.length;_+=1)H(v[_]);u=!0}},o(a){W(e.$$.fragment,a),W(i.$$.fragment,a),v=v.filter(Boolean);for(let _=0;_<v.length;_+=1)W(v[_]);u=!1},d(a){Z(e,a),a&&j(n),a&&j(l),Z(i),he(v,a)}}}function gt(t){let e,n;return e=new an({props:{week:t[3]}}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},p(l,i){const r={};i&2&&(r.week=l[3]),e.$set(r)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function $n(t){let e,n,l,i;const r=[yn,wn],o=[];function c(u,p){return u[0]!=null?0:1}return n=c(t),l=o[n]=r[n](t),{c(){e=f("div"),l.c(),h(e,"class","overview svelte-neu97m")},m(u,p){V(u,e,p),o[n].m(e,null),i=!0},p(u,[p]){let v=n;n=c(u),n===v?o[n].p(u,p):(ue(),W(o[v],1,1,()=>{o[v]=null}),ae(),l=o[n],l?l.p(u,p):(l=o[n]=r[n](u),l.c()),H(l,1),l.m(e,null))},i(u){i||(H(l),i=!0)},o(u){W(l),i=!1},d(u){u&&j(e),o[n].d()}}}function Dn(t,e,n){let l,i;Q(t,U,o=>n(0,i=o));const r=()=>{fe.set("plans-list")};return t.$$.update=()=>{t.$$.dirty&1&&n(1,l=i?Array.from({length:i.weeks},(o,c)=>c+1):[])},[i,l,r]}class Pn extends ne{constructor(e){super(),te(this,e,Dn,$n,x,{})}}function kt(t){let e,n,l,i,r;return{c(){e=f("label"),n=f("input"),h(n,"type","checkbox"),h(n,"class","checkbox svelte-1kuuja1"),n.checked=l=t[0].completed,h(e,"class","checkbox-wrapper svelte-1kuuja1")},m(o,c){V(o,e,c),s(e,n),i||(r=F(n,"change",t[8]),i=!0)},p(o,c){c&1&&l!==(l=o[0].completed)&&(n.checked=l)},d(o){o&&j(e),i=!1,r()}}}function bt(t){let e,n,l,i,r,o=t[0].notes+"",c;return{c(){e=f("div"),n=f("label"),n.textContent="Notes",l=w(),i=f("div"),r=f("div"),c=N(o),h(n,"for","notes"),h(r,"id","notes"),h(r,"class","notes"),h(i,"class","notes-display svelte-1kuuja1"),h(e,"class","notes-section")},m(u,p){V(u,e,p),s(e,n),s(e,l),s(e,i),s(i,r),s(r,c)},p(u,p){p&1&&o!==(o=u[0].notes+"")&&I(c,o)},d(u){u&&j(e)}}}function Cn(t){let e,n,l,i,r,o,c,u,p,v=t[0].title+"",m,a,_,d,k,g=t[0].run_type+"",P,b,$=t[0].distance+"",T,S,M,A,O,C,L,D=t[3]&&kt(t),y=t[0].notes!=""&&bt(t);return{c(){e=f("div"),n=f("div"),l=f("p"),i=N(t[1]),r=w(),o=f("div"),c=w(),u=f("div"),p=f("h1"),m=N(v),a=w(),D&&D.c(),_=w(),d=f("div"),k=f("p"),P=N(g),b=N(" \u2022 "),T=N($),S=N(" km"),M=w(),y&&y.c(),A=w(),O=f("button"),O.innerHTML="<span>Edit Run</span>",h(o,"class","color-bar svelte-1kuuja1"),se(o,"background-color",t[2]),h(p,"class","heading"),h(u,"class","header svelte-1kuuja1"),se(k,"font-size","20px"),h(d,"class","run-info"),h(O,"class","edit-btn svelte-1kuuja1"),h(e,"class","container svelte-1kuuja1")},m(R,E){V(R,e,E),s(e,n),s(n,l),s(l,i),s(e,r),s(e,o),s(e,c),s(e,u),s(u,p),s(p,m),s(u,a),D&&D.m(u,null),s(e,_),s(e,d),s(d,k),s(k,P),s(k,b),s(k,T),s(k,S),s(e,M),y&&y.m(e,null),s(e,A),s(e,O),C||(L=F(O,"click",t[4]),C=!0)},p(R,[E]){E&2&&I(i,R[1]),E&4&&se(o,"background-color",R[2]),E&1&&v!==(v=R[0].title+"")&&I(m,v),R[3]?D?D.p(R,E):(D=kt(R),D.c(),D.m(u,null)):D&&(D.d(1),D=null),E&1&&g!==(g=R[0].run_type+"")&&I(P,g),E&1&&$!==($=R[0].distance+"")&&I(T,$),R[0].notes!=""?y?y.p(R,E):(y=bt(R),y.c(),y.m(e,A)):y&&(y.d(1),y=null)},i:q,o:q,d(R){R&&j(e),D&&D.d(),y&&y.d(),C=!1,L()}}}function Sn(t,e,n){let l,i,r,o,c,u;Q(t,U,a=>n(6,c=a)),Q(t,ve,a=>n(7,u=a));function p(){me.set("run-edit")}function v(a){ve.update(_=>({..._,completed:a})),U.update(_=>({..._,runs:_.runs.map(d=>d.id===l.id?{...d,completed:a}:d),convertValues:_.convertValues}))}const m=a=>v(!l.completed);return t.$$.update=()=>{t.$$.dirty&128&&n(0,l=u),t.$$.dirty&65&&n(1,i=(()=>{const a=new Date(c.start_date);return a.setDate(a.getDate()+(l.week-1)*7+l.day-1),a.toDateString()})()),t.$$.dirty&2&&n(3,r=new Date>new Date(i)),t.$$.dirty&1&&n(2,o=Ie[l.run_type]||"#grey")},[l,i,o,r,p,v,c,u,m]}class Nn extends ne{constructor(e){super(),te(this,e,Sn,Cn,x,{})}}function wt(t,e,n){const l=t.slice();return l[10]=e[n],l}function yt(t){let e,n=t[10]+"",l;return{c(){e=f("option"),l=N(n),e.__value=t[10],e.value=e.__value},m(i,r){V(i,e,r),s(e,l)},p:q,d(i){i&&j(e)}}}function Rn(t){let e,n,l,i,r,o,c,u,p,v,m,a,_,d,k,g,P,b,$,T,S,M,A,O,C,L,D,y,R,E,G,We,ge,Ne,Fe,ce,Be,Re,ze,Oe,Ee,Ae,Ue,ke=Object.values(qe),J=[];for(let B=0;B<ke.length;B+=1)J[B]=yt(wt(t,ke,B));return{c(){var B;e=f("div"),n=f("div"),l=f("h2"),l.textContent="Edit run",i=w(),r=f("form"),o=f("div"),c=f("label"),c.textContent="Title",u=w(),p=f("input"),v=w(),m=f("div"),a=f("label"),a.textContent="Distance (km)",_=w(),d=f("input"),k=w(),g=f("div"),P=f("label"),P.textContent="Workout",b=w(),$=f("select");for(let K=0;K<J.length;K+=1)J[K].c();T=w(),S=f("div"),M=f("label"),M.textContent="Week",A=w(),O=f("input"),L=w(),D=f("div"),y=f("label"),y.textContent="Day",R=w(),E=f("input"),We=w(),ge=f("div"),Ne=f("label"),Ne.textContent="Notes",Fe=w(),ce=f("textarea"),Be=w(),Re=f("button"),Re.textContent="Save Run",ze=w(),Oe=f("div"),Ee=f("button"),Ee.textContent="Delete Run",h(c,"for","title"),h(p,"id","title"),h(p,"type","text"),p.required=!0,h(o,"class","form-group"),h(a,"for","distance"),h(d,"id","distance"),h(d,"type","number"),h(d,"min","0"),h(d,"step","0.1"),d.required=!0,h(m,"class","form-group"),h(P,"for","run_type"),h($,"id","run_type"),$.required=!0,t[0].run_type===void 0&&Le(()=>t[6].call($)),h(g,"class","form-group"),h(M,"for","week"),h(O,"id","week"),h(O,"type","number"),h(O,"min","1"),h(O,"max",C=((B=t[1])==null?void 0:B.weeks)||1),O.required=!0,h(S,"class","form-group"),h(y,"for","day"),h(E,"id","day"),h(E,"type","text"),E.readOnly=!0,E.value=G=Pe[t[0].day],h(D,"class","form-group"),h(Ne,"for","notes"),h(ce,"id","notes"),h(ce,"rows","4"),h(ce,"placeholder","Notes for workout"),h(ge,"class","form-group"),h(Re,"type","submit"),h(n,"class","content svelte-gosq5z"),h(Oe,"class","bottom"),h(e,"class","run-edit svelte-gosq5z")},m(B,K){V(B,e,K),s(e,n),s(n,l),s(n,i),s(n,r),s(r,o),s(o,c),s(o,u),s(o,p),z(p,t[0].title),s(r,v),s(r,m),s(m,a),s(m,_),s(m,d),z(d,t[0].distance),s(r,k),s(r,g),s(g,P),s(g,b),s(g,$);for(let _e=0;_e<J.length;_e+=1)J[_e]&&J[_e].m($,null);Ke($,t[0].run_type,!0),s(r,T),s(r,S),s(S,M),s(S,A),s(S,O),z(O,t[0].week),s(r,L),s(r,D),s(D,y),s(D,R),s(D,E),s(r,We),s(r,ge),s(ge,Ne),s(ge,Fe),s(ge,ce),z(ce,t[0].notes),s(r,Be),s(r,Re),s(e,ze),s(e,Oe),s(Oe,Ee),Ae||(Ue=[F(p,"input",t[4]),F(d,"input",t[5]),F($,"change",t[6]),F(O,"input",t[7]),F(ce,"input",t[8]),F(r,"submit",Rt(t[2])),F(Ee,"click",t[3])],Ae=!0)},p(B,[K]){var _e;if(K&1&&p.value!==B[0].title&&z(p,B[0].title),K&1&&De(d.value)!==B[0].distance&&z(d,B[0].distance),K&0){ke=Object.values(qe);let le;for(le=0;le<ke.length;le+=1){const Ge=wt(B,ke,le);J[le]?J[le].p(Ge,K):(J[le]=yt(Ge),J[le].c(),J[le].m($,null))}for(;le<J.length;le+=1)J[le].d(1);J.length=ke.length}K&1&&Ke($,B[0].run_type),K&2&&C!==(C=((_e=B[1])==null?void 0:_e.weeks)||1)&&h(O,"max",C),K&1&&De(O.value)!==B[0].week&&z(O,B[0].week),K&1&&G!==(G=Pe[B[0].day])&&E.value!==G&&(E.value=G),K&1&&z(ce,B[0].notes)},i:q,o:q,d(B){B&&j(e),he(J,B),Ae=!1,re(Ue)}}}function On(t,e,n){let l,i;Q(t,ve,_=>n(9,l=_)),Q(t,U,_=>n(1,i=_));let r=l;async function o(_){_.preventDefault(),ve.set(r),U.update(d=>({...d,runs:d.runs.map(k=>k.id===r.id?r:k),convertValues:d.convertValues})),me.set("run-info")}function c(){ve.set(null),U.update(_=>({..._,runs:_.runs.filter(d=>d.id!==r.id),convertValues:_==null?void 0:_.convertValues})),oe.set(!1)}function u(){r.title=this.value,n(0,r)}function p(){r.distance=De(this.value),n(0,r)}function v(){r.run_type=At(this),n(0,r)}function m(){r.week=De(this.value),n(0,r)}function a(){r.notes=this.value,n(0,r)}return[r,i,o,c,u,p,v,m,a]}class En extends ne{constructor(e){super(),te(this,e,On,Rn,x,{})}}function Tn(t){let e,n,l,i,r,o,c,u,p,v,m,a,_,d,k,g,P,b,$,T,S,M,A,O,C,L,D,y,R;return{c(){e=f("div"),n=f("h2"),n.textContent="Plan Settings",l=w(),i=f("form"),r=f("div"),o=f("label"),o.textContent="Plan Name",c=w(),u=f("input"),p=w(),v=f("div"),m=f("label"),m.textContent="Weeks",a=w(),_=f("input"),d=w(),k=f("div"),g=f("label"),g.textContent="Start Date",P=w(),b=f("input"),$=w(),T=f("div"),S=f("label"),S.textContent="Description",M=w(),A=f("textarea"),O=w(),C=f("button"),C.textContent="Save Changes",L=w(),D=f("button"),D.textContent="Delete",h(o,"for","name"),h(u,"type","text"),h(u,"id","name"),u.required=!0,h(r,"class","form-group"),h(m,"for","weeks"),h(_,"type","number"),h(_,"id","weeks"),h(_,"min","1"),h(_,"max","24"),_.required=!0,h(v,"class","form-group"),h(g,"for","start_date"),h(b,"type","date"),h(b,"id","start_date"),b.required=!0,h(k,"class","form-group"),h(S,"for","description"),h(A,"id","description"),h(A,"rows","4"),h(T,"class","form-group"),h(C,"type","submit"),h(e,"class","container")},m(E,G){V(E,e,G),s(e,n),s(e,l),s(e,i),s(i,r),s(r,o),s(r,c),s(r,u),z(u,t[0].name),s(i,p),s(i,v),s(v,m),s(v,a),s(v,_),z(_,t[0].weeks),s(i,d),s(i,k),s(k,g),s(k,P),s(k,b),z(b,t[0].start_date),s(i,$),s(i,T),s(T,S),s(T,M),s(T,A),z(A,t[0].description),s(i,O),s(i,C),s(e,L),s(e,D),y||(R=[F(u,"input",t[3]),F(_,"input",t[4]),F(b,"input",t[5]),F(A,"input",t[6]),F(i,"submit",Rt(t[1])),F(D,"click",t[7])],y=!0)},p(E,[G]){G&1&&u.value!==E[0].name&&z(u,E[0].name),G&1&&De(_.value)!==E[0].weeks&&z(_,E[0].weeks),G&1&&z(b,E[0].start_date),G&1&&z(A,E[0].description)},i:q,o:q,d(E){E&&j(e),y=!1,re(R)}}}function jn(t,e,n){let l;Q(t,U,a=>n(8,l=a));let i={name:l.name,start_date:l.start_date,weeks:l.weeks,description:l.description};function r(){U.update(a=>({...a,...i,convertValues:a.convertValues}))}async function o(){try{await Jt(l.id),oe.set(!1),U.set(null)}catch(a){console.log(a)}}function c(){i.name=this.value,n(0,i)}function u(){i.weeks=De(this.value),n(0,i)}function p(){i.start_date=this.value,n(0,i)}function v(){i.description=this.value,n(0,i)}return[i,r,o,c,u,p,v,()=>o()]}class Ln extends ne{constructor(e){super(),te(this,e,jn,Tn,x,{})}}function Vn(t){let e,n,l,i,r,o,c,u,p;return{c(){e=f("div"),n=f("div"),l=f("button"),l.textContent="Overview",i=w(),r=f("button"),r.textContent="Analytics",o=w(),c=f("button"),c.textContent="Plans",h(l,"class","svelte-13wrgyi"),ie(l,"active",t[0]==="overview"),h(r,"class","svelte-13wrgyi"),ie(r,"active",t[0]==="analytics"),h(c,"class","svelte-13wrgyi"),ie(c,"active",t[0]==="plans-list"),h(n,"class","nav-buttons svelte-13wrgyi"),h(e,"class","container svelte-13wrgyi")},m(v,m){V(v,e,m),s(e,n),s(n,l),s(n,i),s(n,r),s(n,o),s(n,c),u||(p=[F(l,"click",t[1]),F(r,"click",t[2]),F(c,"click",t[3])],u=!0)},p(v,[m]){m&1&&ie(l,"active",v[0]==="overview"),m&1&&ie(r,"active",v[0]==="analytics"),m&1&&ie(c,"active",v[0]==="plans-list")},i:q,o:q,d(v){v&&j(e),u=!1,re(p)}}}function An(t,e,n){let l;return Q(t,fe,c=>n(0,l=c)),[l,()=>fe.set("overview"),()=>fe.set("analytics"),()=>fe.set("plans-list")]}class Mn extends ne{constructor(e){super(),te(this,e,An,Vn,x,{})}}function Hn(t){let e,n,l,i,r,o,c;return n=new Et({}),{c(){e=f("div"),ee(n.$$.fragment),l=w(),i=f("h1"),i.textContent="Analytics",r=w(),o=f("p"),o.textContent="Coming soon...",h(e,"class","container svelte-3kcz16")},m(u,p){V(u,e,p),X(n,e,null),s(e,l),s(e,i),s(e,r),s(e,o),c=!0},p:q,i(u){c||(H(n.$$.fragment,u),c=!0)},o(u){W(n.$$.fragment,u),c=!1},d(u){u&&j(e),Z(n)}}}class qn extends ne{constructor(e){super(),te(this,e,null,Hn,x,{})}}function $t(t){let e,n,l;return n=new Mn({}),{c(){e=f("div"),ee(n.$$.fragment),h(e,"class","left-sidebar svelte-1jl77jm")},m(i,r){V(i,e,r),X(n,e,null),l=!0},i(i){l||(H(n.$$.fragment,i),l=!0)},o(i){W(n.$$.fragment,i),l=!1},d(i){i&&j(e),Z(n)}}}function In(t){let e;return{c(){e=f("h1"),e.textContent="No view selected"},m(n,l){V(n,e,l)},i:q,o:q,d(n){n&&j(e)}}}function Wn(t){let e,n;return e=new Zt({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Fn(t){let e,n;return e=new qn({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Bn(t){let e,n;return e=new Pn({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Dt(t){let e,n,l,i,r,o,c,u;const p=[Gn,Un,zn],v=[];function m(a,_){return a[3]==="run-info"?0:a[3]==="run-edit"?1:a[3]==="plan-settings"?2:-1}return~(i=m(t))&&(r=v[i]=p[i](t)),{c(){e=f("div"),n=f("button"),n.textContent="x",l=w(),r&&r.c(),h(n,"class","close-button"),h(e,"class","right-sidebar svelte-1jl77jm")},m(a,_){V(a,e,_),s(e,n),s(e,l),~i&&v[i].m(e,null),o=!0,c||(u=F(n,"click",t[4]),c=!0)},p(a,_){let d=i;i=m(a),i!==d&&(r&&(ue(),W(v[d],1,1,()=>{v[d]=null}),ae()),~i?(r=v[i],r||(r=v[i]=p[i](a),r.c()),H(r,1),r.m(e,null)):r=null)},i(a){o||(H(r),o=!0)},o(a){W(r),o=!1},d(a){a&&j(e),~i&&v[i].d(),c=!1,u()}}}function zn(t){let e,n;return e=new Ln({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Un(t){let e,n;return e=new En({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Gn(t){let e,n;return e=new Nn({}),{c(){ee(e.$$.fragment)},m(l,i){X(e,l,i),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Jn(t){let e,n,l,i,r,o,c,u=t[0]&&$t();const p=[Bn,Fn,Wn,In],v=[];function m(_,d){return _[1]==="overview"?0:_[1]==="analytics"?1:_[1]==="plans-list"?2:3}i=m(t),r=v[i]=p[i](t);let a=t[2]&&Dt(t);return{c(){e=f("div"),u&&u.c(),n=w(),l=f("div"),r.c(),o=w(),a&&a.c(),h(l,"class","center-content svelte-1jl77jm"),h(e,"class","home-container svelte-1jl77jm")},m(_,d){V(_,e,d),u&&u.m(e,null),s(e,n),s(e,l),v[i].m(l,null),s(e,o),a&&a.m(e,null),c=!0},p(_,[d]){_[0]?u?d&1&&H(u,1):(u=$t(),u.c(),H(u,1),u.m(e,n)):u&&(ue(),W(u,1,1,()=>{u=null}),ae());let k=i;i=m(_),i!==k&&(ue(),W(v[k],1,1,()=>{v[k]=null}),ae(),r=v[i],r||(r=v[i]=p[i](_),r.c()),H(r,1),r.m(l,null)),_[2]?a?(a.p(_,d),d&4&&H(a,1)):(a=Dt(_),a.c(),H(a,1),a.m(e,null)):a&&(ue(),W(a,1,1,()=>{a=null}),ae())},i(_){c||(H(u),H(r),H(a),c=!0)},o(_){W(u),W(r),W(a),c=!1},d(_){_&&j(e),u&&u.d(),v[i].d(),a&&a.d()}}}function Kn(t,e,n){let l,i,r,o;return Q(t,Ve,u=>n(0,l=u)),Q(t,fe,u=>n(1,i=u)),Q(t,oe,u=>n(2,r=u)),Q(t,me,u=>n(3,o=u)),[l,i,r,o,()=>Nt(oe,r=!1,r)]}class Yn extends ne{constructor(e){super(),te(this,e,Kn,Jn,x,{})}}function Qn(t){let e,n,l,i,r,o;return{c(){e=f("div"),n=f("button"),n.innerHTML='<span class="toggle-icon">=</span>',l=w(),i=f("div"),i.innerHTML="<h1>Pace Planner</h1>",h(n,"class","sidebar-toggle"),h(e,"class","topbar svelte-e0dnua")},m(c,u){V(c,e,u),s(e,n),s(e,l),s(e,i),r||(o=F(n,"click",t[0]),r=!0)},p:q,i:q,o:q,d(c){c&&j(e),r=!1,o()}}}function Xn(t,e,n){let l;Q(t,Ve,r=>n(1,l=r));function i(){Nt(Ve,l=!l,l)}return[i]}class Zn extends ne{constructor(e){super(),te(this,e,Xn,Qn,x,{})}}function xn(t){let e,n,l,i,r;return n=new Zn({}),i=new Yn({}),{c(){e=f("body"),ee(n.$$.fragment),l=w(),ee(i.$$.fragment)},m(o,c){V(o,e,c),X(n,e,null),s(e,l),X(i,e,null),r=!0},p:q,i(o){r||(H(n.$$.fragment,o),H(i.$$.fragment,o),r=!0)},o(o){W(n.$$.fragment,o),W(i.$$.fragment,o),r=!1},d(o){o&&j(e),Z(n),Z(i)}}}class el extends ne{constructor(e){super(),te(this,e,null,xn,x,{})}}new el({target:document.getElementById("app")});
