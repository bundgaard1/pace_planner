var Et=Object.defineProperty;var Tt=(t,e,n)=>e in t?Et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(Tt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function H(){}function Pt(t){return t()}function Je(){return Object.create(null)}function re(t){t.forEach(Pt)}function Ct(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function jt(t){return Object.keys(t).length===0}function St(t,...e){if(t==null)return H;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Q(t,e,n){t.$$.on_destroy.push(St(e,n))}function Nt(t,e,n){return t.set(n),e}function s(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function w(){return N(" ")}function F(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Rt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function De(t){return t===""?null:+t}function Lt(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function se(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ke(t,e,n){for(let l=0;l<t.options.length;l+=1){const i=t.options[l];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Vt(t){const e=t.querySelector(":checked");return e&&e.__value}function le(t,e,n){t.classList[n?"add":"remove"](e)}let Se;function Ce(t){Se=t}function Mt(){if(!Se)throw new Error("Function called outside component initialization");return Se}function At(t){Mt().$$.on_mount.push(t)}const ye=[],Ye=[];let $e=[];const Qe=[],Ht=Promise.resolve();let He=!1;function qt(){He||(He=!0,Ht.then(Ot))}function Le(t){$e.push(t)}const Ae=new Set;let ke=0;function Ot(){if(ke!==0)return;const t=Se;do{try{for(;ke<ye.length;){const e=ye[ke];ke++,Ce(e),It(e.$$)}}catch(e){throw ye.length=0,ke=0,e}for(Ce(null),ye.length=0,ke=0;Ye.length;)Ye.pop()();for(let e=0;e<$e.length;e+=1){const n=$e[e];Ae.has(n)||(Ae.add(n),n())}$e.length=0}while(ye.length);for(;Qe.length;)Qe.pop()();He=!1,Ae.clear(),Ce(t)}function It(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}function Wt(t){const e=[],n=[];$e.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),$e=e}const je=new Set;let pe;function ue(){pe={r:0,c:[],p:pe}}function ae(){pe.r||re(pe.c),pe=pe.p}function q(t,e){t&&t.i&&(je.delete(t),t.i(e))}function W(t,e,n,l){if(t&&t.o){if(je.has(t))return;je.add(t),pe.c.push(()=>{je.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Ft(t,e){t.d(1),e.delete(t.key)}function Bt(t,e,n,l,i,r,o,c,u,v,d,_){let a=t.length,p=r.length,h=a;const b={};for(;h--;)b[t[h].key]=h;const g=[],P=new Map,k=new Map,$=[];for(h=p;h--;){const M=_(i,r,h),O=n(M);let C=o.get(O);C?l&&$.push(()=>C.p(M,e)):(C=v(O,M),C.c()),P.set(O,g[h]=C),O in b&&k.set(O,Math.abs(h-b[O]))}const T=new Set,S=new Set;function A(M){q(M,1),M.m(c,d),o.set(M.key,M),d=M.first,p--}for(;a&&p;){const M=g[p-1],O=t[a-1],C=M.key,L=O.key;M===O?(d=M.first,a--,p--):P.has(L)?!o.has(C)||T.has(C)?A(M):S.has(L)?a--:k.get(C)>k.get(L)?(S.add(C),A(M)):(T.add(L),a--):(u(O,o),a--)}for(;a--;){const M=t[a];P.has(M.key)||u(M,o)}for(;p;)A(g[p-1]);return re($),g}function ie(t){t&&t.c()}function Z(t,e,n,l){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),l||Le(()=>{const o=t.$$.on_mount.map(Pt).filter(Ct);t.$$.on_destroy?t.$$.on_destroy.push(...o):re(o),t.$$.on_mount=[]}),r.forEach(Le)}function x(t,e){const n=t.$$;n.fragment!==null&&(Wt(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zt(t,e){t.$$.dirty[0]===-1&&(ye.push(t),qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,l,i,r,o,c=[-1]){const u=Se;Ce(t);const v=t.$$={fragment:null,ctx:[],props:r,update:H,not_equal:i,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Je(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(v.root);let d=!1;if(v.ctx=n?n(t,e.props||{},(_,a,...p)=>{const h=p.length?p[0]:a;return v.ctx&&i(v.ctx[_],v.ctx[_]=h)&&(!v.skip_bound&&v.bound[_]&&v.bound[_](h),d&&zt(t,_)),a}):[],v.update(),d=!0,re(v.before_update),v.fragment=l?l(v.ctx):!1,e.target){if(e.hydrate){const _=Lt(e.target);v.fragment&&v.fragment.l(_),_.forEach(j)}else v.fragment&&v.fragment.c();e.intro&&q(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),Ot()}Ce(u)}class te{$destroy(){x(this,1),this.$destroy=H}$on(e,n){if(!Ct(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const we=[];function de(t,e=H){let n;const l=new Set;function i(c){if(X(t,c)&&(t=c,n)){const u=!we.length;for(const v of l)v[1](),we.push(v,t);if(u){for(let v=0;v<we.length;v+=2)we[v][0](we[v+1]);we.length=0}}}function r(c){i(c(t))}function o(c,u=H){const v=[c,u];return l.add(v),l.size===1&&(n=e(i)||H),c(t),()=>{l.delete(v),l.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:o}}const fe=de("overview"),oe=de(!1),me=de("run-info");fe.subscribe(t=>{oe.set(!1)});const Ve=de(!1);function Ut(){return window.go.controllers.TrainingPlanController.CreateNewPlan()}function Gt(t){return window.go.controllers.TrainingPlanController.DeletePlan(t)}function Jt(){return window.go.controllers.TrainingPlanController.GetAllPlans()}function Kt(t){return window.go.controllers.TrainingPlanController.SavePlan(t)}var Xe;(t=>{class e{constructor(i={}){Y(this,"id");Y(this,"title");Y(this,"distance");Y(this,"run_type");Y(this,"week");Y(this,"day");Y(this,"notes");Y(this,"completed");typeof i=="string"&&(i=JSON.parse(i)),this.id=i.id,this.title=i.title,this.distance=i.distance,this.run_type=i.run_type,this.week=i.week,this.day=i.day,this.notes=i.notes,this.completed=i.completed}static createFrom(i={}){return new e(i)}}t.Run=e;class n{constructor(i={}){Y(this,"id");Y(this,"name");Y(this,"description");Y(this,"start_date");Y(this,"weeks");Y(this,"runs");typeof i=="string"&&(i=JSON.parse(i)),this.id=i.id,this.name=i.name,this.description=i.description,this.start_date=i.start_date,this.weeks=i.weeks,this.runs=this.convertValues(i.runs,e)}static createFrom(i={}){return new n(i)}convertValues(i,r,o=!1){if(!i)return i;if(i.slice&&i.map)return i.map(c=>this.convertValues(c,r));if(typeof i=="object"){if(o){for(const c of Object.keys(i))i[c]=new r(i[c]);return i}return new r(i)}return i}}t.TrainingPlan=n})(Xe||(Xe={}));const U=de();let Te=!1,Ze="";U.subscribe(async t=>{if(!Te&&!!t)try{Te=!0,await Kt(t),Ze=""}catch{Ze="Failed to save plan",Te=!0}finally{Te=!1}});const ve=de();function xe(t,e,n){const l=t.slice();return l[7]=e[n],l}function et(t){let e,n;return{c(){e=f("p"),n=N(t[1]),m(e,"class","error")},m(l,i){V(l,e,i),s(e,n)},p(l,i){i&2&&I(n,l[1])},d(l){l&&j(e)}}}function tt(t){let e;return{c(){e=f("p"),e.textContent="The Traningplan varaible is null"},m(n,l){V(n,e,l)},d(n){n&&j(e)}}}function nt(t,e){let n,l,i,r=e[7].name+"",o,c,u,v,d=e[7].weeks+"",_,a,p,h,b=e[7].start_date+"",g,P,k,$,T,S,A;function M(){return e[5](e[7])}return{key:t,first:null,c(){n=f("div"),l=f("div"),i=f("h3"),o=N(r),c=w(),u=f("p"),v=N("Weeks: "),_=N(d),a=w(),p=f("p"),h=N("Start Date: "),g=N(b),P=w(),k=f("div"),$=f("button"),$.textContent="Select",T=w(),m(n,"class","training-plan svelte-1ay3hxv"),this.first=n},m(O,C){V(O,n,C),s(n,l),s(l,i),s(i,o),s(l,c),s(l,u),s(u,v),s(u,_),s(l,a),s(l,p),s(p,h),s(p,g),s(n,P),s(n,k),s(k,$),s(n,T),S||(A=F($,"click",M),S=!0)},p(O,C){e=O,C&4&&r!==(r=e[7].name+"")&&I(o,r),C&4&&d!==(d=e[7].weeks+"")&&I(_,d),C&4&&b!==(b=e[7].start_date+"")&&I(g,b)},d(O){O&&j(n),S=!1,A()}}}function Yt(t){let e,n,l,i,r,o,c,u=[],v=new Map,d,_,a,p,h=t[1]&&et(t),b=t[2]==null&&tt(),g=t[2];const P=k=>k[7].id;for(let k=0;k<g.length;k+=1){let $=xe(t,g,k),T=P($);v.set(T,u[k]=nt(T,$))}return{c(){e=f("div"),h&&h.c(),n=w(),l=f("div"),l.innerHTML="<h2>Training Plans</h2>",i=w(),r=f("div"),b&&b.c(),o=w(),c=f("div");for(let k=0;k<u.length;k+=1)u[k].c();d=w(),_=f("button"),_.textContent="Create New Plan",m(c,"class","list svelte-1ay3hxv"),m(e,"class","container svelte-1ay3hxv")},m(k,$){V(k,e,$),h&&h.m(e,null),s(e,n),s(e,l),s(e,i),s(e,r),b&&b.m(r,null),s(r,o),s(r,c);for(let T=0;T<u.length;T+=1)u[T]&&u[T].m(c,null);s(e,d),s(e,_),a||(p=F(_,"click",t[3]),a=!0)},p(k,[$]){k[1]?h?h.p(k,$):(h=et(k),h.c(),h.m(e,n)):h&&(h.d(1),h=null),k[2]==null?b||(b=tt(),b.c(),b.m(r,o)):b&&(b.d(1),b=null),$&20&&(g=k[2],u=Bt(u,$,P,1,k,g,v,c,Ft,nt,null,xe))},i:H,o:H,d(k){k&&j(e),h&&h.d(),b&&b.d();for(let $=0;$<u.length;$+=1)u[$].d();a=!1,p()}}}function Qt(t,e,n){let l,i=H,r=()=>(i(),i=St(o,a=>n(2,l=a)),o);t.$$.on_destroy.push(()=>i());let o=de([]);r();let c="";async function u(){try{const a=await Jt();o.set(a!=null?a:[])}catch{n(1,c="Failed to load training plans. Please try again.")}}async function v(){try{const a=await Ut();o===null?r(n(0,o=de([a]))):o.update(p=>[...p,a]),U.set(a),me.set("plan-settings"),oe.set(!0),Ve.set(!1)}catch{n(1,c="Failed to create a new training plan. Please try again.")}}async function d(a){U.set(a),fe.set("overview")}return At(u),[o,c,l,v,d,a=>d(a)]}class Xt extends te{constructor(e){super(),ee(this,e,Qt,Yt,X,{})}}const Pe={1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"},Zt={1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT",7:"SUN"};function xt(t){return t.toString().padStart(2,"0")}function lt(t){const e=t.getDate(),n=t.toLocaleString("en-US",{month:"short"});return`${xt(e)} ${n}`}const en=()=>Math.random().toString(36).substring(2);var qe=(t=>(t.EASY="Easy Run",t.INTERVALS="Intervals",t.THRESHOLD="Threshold",t.HILLS="Hills",t.LONG="Long run",t.Recovery="Recovery",t.RACE="Race",t))(qe||{});const Ie={["Easy Run"]:"#0099ff",Intervals:"#ffcc00",Threshold:"#99ccff",Hills:"#339933",["Long run"]:"#cc33ff",Recovery:"#00cc66",Race:"#ff3300"};function tn(t,e){const n={id:en(),week:e,day:t,distance:0,title:"Run",notes:"",run_type:"Easy Run",completed:!1};U.update(l=>({...l,runs:[...(l==null?void 0:l.runs)||[],n],convertValues:l==null?void 0:l.convertValues})),ve.set(n),me.set("run-edit"),oe.set(!0)}function nn(t){let e,n,l,i,r,o,c=t[0].title+"",u,v,d,_,a,p=t[0].run_type+"",h,b,g=t[0].distance+"",P,k,$,T,S,A,M,O;return{c(){e=f("div"),n=f("div"),l=w(),i=f("div"),r=f("div"),o=f("b"),u=N(c),v=w(),d=f("div"),_=f("div"),a=f("span"),h=N(p),b=N(" - "),P=N(g),k=N(" km"),$=w(),T=f("div"),S=f("span"),A=N(t[1]),m(n,"class","color-bar svelte-1kla7n7"),se(n,"background-color",t[2]),m(o,"class","title"),m(r,"class","info-row svelte-1kla7n7"),m(a,"class","distance"),m(_,"class","stats"),m(d,"class","info-row svelte-1kla7n7"),m(i,"class","infos svelte-1kla7n7"),m(T,"class","completed"),m(e,"class","preview-container svelte-1kla7n7")},m(C,L){V(C,e,L),s(e,n),s(e,l),s(e,i),s(i,r),s(r,o),s(o,u),s(i,v),s(i,d),s(d,_),s(_,a),s(a,h),s(a,b),s(a,P),s(a,k),s(e,$),s(e,T),s(T,S),s(S,A),M||(O=[F(e,"click",t[3]),F(e,"keydown",t[3])],M=!0)},p(C,[L]){L&4&&se(n,"background-color",C[2]),L&1&&c!==(c=C[0].title+"")&&I(u,c),L&1&&p!==(p=C[0].run_type+"")&&I(h,p),L&1&&g!==(g=C[0].distance+"")&&I(P,g),L&2&&I(A,C[1])},i:H,o:H,d(C){C&&j(e),M=!1,re(O)}}}function ln(t,e,n){let l,i,{run:r}=e;function o(){ve.set(r),oe.set(!0),me.set("run-info")}return t.$$set=c=>{"run"in c&&n(0,r=c.run)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=Ie[r.run_type]||"#grey"),t.$$.dirty&1&&n(1,i=r.completed?"\u2713":"")},[r,i,l,o]}class rn extends te{constructor(e){super(),ee(this,e,ln,nn,X,{run:0})}}function it(t,e,n){const l=t.slice();return l[13]=e[n].day,l[14]=e[n].workouts,l[15]=e[n].dayNumber,l[17]=n,l}function rt(t,e,n){const l=t.slice();return l[18]=e[n],l}function st(t,e,n){const l=t.slice();return l[14]=e[n].workouts,l[15]=e[n].dayNumber,l[17]=n,l}function ot(t){let e,n=(t[14].length>0?dt(t[14]):"")+"",l,i;return{c(){e=f("span"),l=N(n),i=w(),m(e,"class","day-box svelte-1cp9ip8"),se(e,"background-color",t[14].length>0?t[9](t[14]):"transparent")},m(r,o){V(r,e,o),s(e,l),s(e,i)},p(r,o){o&64&&n!==(n=(r[14].length>0?dt(r[14]):"")+"")&&I(l,n),o&64&&se(e,"background-color",r[14].length>0?r[9](r[14]):"transparent")},d(r){r&&j(e)}}}function ut(t){let e,n,l=t[6],i=[];for(let o=0;o<l.length;o+=1)i[o]=ft(it(t,l,o));const r=o=>W(i[o],1,1,()=>{i[o]=null});return{c(){e=f("div");for(let o=0;o<i.length;o+=1)i[o].c();m(e,"class","week-content")},m(o,c){V(o,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);n=!0},p(o,c){if(c&324){l=o[6];let u;for(u=0;u<l.length;u+=1){const v=it(o,l,u);i[u]?(i[u].p(v,c),q(i[u],1)):(i[u]=ft(v),i[u].c(),q(i[u],1),i[u].m(e,null))}for(ue(),u=l.length;u<i.length;u+=1)r(u);ae()}},i(o){if(!n){for(let c=0;c<l.length;c+=1)q(i[c]);n=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)W(i[c]);n=!1},d(o){o&&j(e),he(i,o)}}}function at(t){let e,n,l;return n=new rn({props:{run:t[18]}}),{c(){e=f("div"),ie(n.$$.fragment),m(e,"class","run-preview svelte-1cp9ip8")},m(i,r){V(i,e,r),Z(n,e,null),l=!0},p(i,r){const o={};r&64&&(o.run=i[18]),n.$set(o)},i(i){l||(q(n.$$.fragment,i),l=!0)},o(i){W(n.$$.fragment,i),l=!1},d(i){i&&j(e),x(n)}}}function ct(t){let e,n,l;function i(){return t[12](t[15])}return{c(){e=f("button"),e.textContent="+ Add Run",m(e,"class","add-run svelte-1cp9ip8")},m(r,o){V(r,e,o),n||(l=F(e,"click",i),n=!0)},p(r,o){t=r},d(r){r&&j(e),n=!1,l()}}}function ft(t){let e,n,l=t[13]+"",i,r,o,c,u,v,d=t[14],_=[];for(let h=0;h<d.length;h+=1)_[h]=at(rt(t,d,h));const a=h=>W(_[h],1,1,()=>{_[h]=null});let p=t[14].length<2&&ct(t);return{c(){e=f("div"),n=f("div"),i=N(l),r=w(),o=f("div");for(let h=0;h<_.length;h+=1)_[h].c();c=w(),p&&p.c(),u=w(),m(n,"class","day-name svelte-1cp9ip8"),m(o,"class","day-runs svelte-1cp9ip8"),m(e,"class","day-row svelte-1cp9ip8"),le(e,"is-today",t[2]&&new Date().getDay()===t[15])},m(h,b){V(h,e,b),s(e,n),s(n,i),s(e,r),s(e,o);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(o,null);s(o,c),p&&p.m(o,null),s(e,u),v=!0},p(h,b){if((!v||b&64)&&l!==(l=h[13]+"")&&I(i,l),b&64){d=h[14];let g;for(g=0;g<d.length;g+=1){const P=rt(h,d,g);_[g]?(_[g].p(P,b),q(_[g],1)):(_[g]=at(P),_[g].c(),q(_[g],1),_[g].m(o,c))}for(ue(),g=d.length;g<_.length;g+=1)a(g);ae()}h[14].length<2?p?p.p(h,b):(p=ct(h),p.c(),p.m(o,null)):p&&(p.d(1),p=null),(!v||b&68)&&le(e,"is-today",h[2]&&new Date().getDay()===h[15])},i(h){if(!v){for(let b=0;b<d.length;b+=1)q(_[b]);v=!0}},o(h){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)W(_[b]);v=!1},d(h){h&&j(e),he(_,h),p&&p.d()}}}function sn(t){let e,n,l,i,r,o,c,u,v,d,_,a,p,h,b,g,P,k,$,T,S,A,M,O=t[6],C=[];for(let D=0;D<O.length;D+=1)C[D]=ot(st(t,O,D));let L=t[1]&&ut(t);return{c(){e=f("div"),n=f("div"),l=f("div"),i=f("span"),r=N("W"),o=N(t[0]),c=w(),u=f("span"),v=N(t[3]),d=w(),_=f("span"),a=N(t[4]),p=N("/"),h=N(t[5]),b=N(" km"),g=w(),P=f("span");for(let D=0;D<C.length;D+=1)C[D].c();k=w(),$=f("span"),$.textContent="\u25BC",T=w(),L&&L.c(),m(i,"class","week-number svelte-1cp9ip8"),m(u,"class","week-dates svelte-1cp9ip8"),m(_,"class","week-total svelte-1cp9ip8"),m(P,"class","day-boxes svelte-1cp9ip8"),m(l,"class","week-title svelte-1cp9ip8"),m($,"class","arrow svelte-1cp9ip8"),le($,"open",t[1]),m(n,"class","week-header svelte-1cp9ip8"),m(n,"tabindex",t[0]),m(n,"role","button"),le(n,"this-week",t[2]),m(e,"class","week-overview svelte-1cp9ip8")},m(D,y){V(D,e,y),s(e,n),s(n,l),s(l,i),s(i,r),s(i,o),s(l,c),s(l,u),s(u,v),s(l,d),s(l,_),s(_,a),s(_,p),s(_,h),s(_,b),s(l,g),s(l,P);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(P,null);s(n,k),s(n,$),s(e,T),L&&L.m(e,null),S=!0,A||(M=[F(n,"click",t[7]),F(n,"keypress",t[7])],A=!0)},p(D,[y]){if((!S||y&1)&&I(o,D[0]),(!S||y&8)&&I(v,D[3]),(!S||y&16)&&I(a,D[4]),(!S||y&32)&&I(h,D[5]),y&576){O=D[6];let R;for(R=0;R<O.length;R+=1){const E=st(D,O,R);C[R]?C[R].p(E,y):(C[R]=ot(E),C[R].c(),C[R].m(P,null))}for(;R<C.length;R+=1)C[R].d(1);C.length=O.length}(!S||y&2)&&le($,"open",D[1]),(!S||y&1)&&m(n,"tabindex",D[0]),(!S||y&4)&&le(n,"this-week",D[2]),D[1]?L?(L.p(D,y),y&2&&q(L,1)):(L=ut(D),L.c(),q(L,1),L.m(e,null)):L&&(ue(),W(L,1,1,()=>{L=null}),ae())},i(D){S||(q(L),S=!0)},o(D){W(L),S=!1},d(D){D&&j(e),he(C,D),L&&L.d(),A=!1,re(M)}}}function dt(t){return t.reduce((e,n)=>e+(n.distance||0),0).toFixed(0)}function on(t,e,n){let l,i,r,o,c,u,v;Q(t,U,g=>n(11,v=g));let{week:d}=e,_=!1;function a(){n(1,_=!_)}function p(g){tn(g,d),oe.set(!1)}function h(g){return g.length===0?"transparent":Ie[g[0].run_type]||"#888"}const b=g=>p(g);return t.$$set=g=>{"week"in g&&n(0,d=g.week)},t.$$.update=()=>{t.$$.dirty&2049&&n(10,l=v.runs?v.runs.filter(g=>g.week===d):[]),t.$$.dirty&1024&&n(6,i=Object.entries(Zt).map(([g,P])=>({day:P,dayNumber:parseInt(g),workouts:l.filter(k=>k.day===parseInt(g))}))),t.$$.dirty&1024&&n(5,r=l.reduce((g,P)=>g+(P.distance||0),0).toFixed(0)),t.$$.dirty&1024&&n(4,o=l.reduce((g,P)=>g+(P.completed?P.distance:0),0)),t.$$.dirty&2049&&n(3,c=(()=>{if(!(v!=null&&v.start_date))return"";const g=new Date(v.start_date),P=new Date(g);P.setDate(g.getDate()+(d-1)*7);const k=new Date(P);return k.setDate(P.getDate()+6),`${lt(P)} - ${lt(k)}`})()),t.$$.dirty&2049&&n(2,u=(()=>{const g=new Date,P=new Date(v.start_date),k=new Date(P);k.setDate(P.getDate()+(d-1)*7);const $=new Date(k);return $.setDate(k.getDate()+6),g>=k&&g<=$})())},[d,_,u,c,o,r,i,a,p,h,l,v,b]}class un extends te{constructor(e){super(),ee(this,e,on,sn,X,{week:0})}}function _t(t,e,n){const l=t.slice();return l[7]=e[n],l}function pt(t,e,n){const l=t.slice();return l[7]=e[n],l}function an(t){let e,n,l,i,r=t[1].description+"",o,c,u,v,d,_,a,p,h,b,g,P,k,$;function T(y,R){return y[3].length>0?dn:fn}let S=T(t),A=S(t);function M(y,R){return y[2]?pn:_n}let O=M(t),C=O(t),L=t[0],D=[];for(let y=0;y<L.length;y+=1)D[y]=ht(_t(t,L,y));return{c(){e=f("div"),n=f("h3"),n.textContent="-- Plan Description --",l=w(),i=f("div"),o=N(r),c=w(),u=f("div"),v=f("h3"),v.textContent="-- Todays activity --",d=w(),A.c(),_=w(),a=f("div"),p=f("h3"),p.textContent="-- Next run --",h=w(),C.c(),b=w(),g=f("div"),P=f("h3"),P.textContent="-- Week Overview --",k=w(),$=f("div");for(let y=0;y<D.length;y+=1)D[y].c();m(i,"class","description svelte-195w6tk"),m(e,"class","dashboard-section"),m(u,"class","dashboard-section"),m(a,"class","dashboard-section"),m($,"class","workouts-list svelte-195w6tk"),m(g,"class","dashboard-section")},m(y,R){V(y,e,R),s(e,n),s(e,l),s(e,i),s(i,o),V(y,c,R),V(y,u,R),s(u,v),s(u,d),A.m(u,null),V(y,_,R),V(y,a,R),s(a,p),s(a,h),C.m(a,null),V(y,b,R),V(y,g,R),s(g,P),s(g,k),s(g,$);for(let E=0;E<D.length;E+=1)D[E]&&D[E].m($,null)},p(y,R){if(R&2&&r!==(r=y[1].description+"")&&I(o,r),S===(S=T(y))&&A?A.p(y,R):(A.d(1),A=S(y),A&&(A.c(),A.m(u,null))),O===(O=M(y))&&C?C.p(y,R):(C.d(1),C=O(y),C&&(C.c(),C.m(a,null))),R&1){L=y[0];let E;for(E=0;E<L.length;E+=1){const G=_t(y,L,E);D[E]?D[E].p(G,R):(D[E]=ht(G),D[E].c(),D[E].m($,null))}for(;E<D.length;E+=1)D[E].d(1);D.length=L.length}},d(y){y&&j(e),y&&j(c),y&&j(u),A.d(),y&&j(_),y&&j(a),C.d(),y&&j(b),y&&j(g),he(D,y)}}}function cn(t){let e;return{c(){e=f("h2"),e.textContent="Plan has not started yet"},m(n,l){V(n,e,l)},p:H,d(n){n&&j(e)}}}function fn(t){let e;return{c(){e=f("div"),e.textContent="No workouts scheduled for today"},m(n,l){V(n,e,l)},p:H,d(n){n&&j(e)}}}function dn(t){let e,n=t[3],l=[];for(let i=0;i<n.length;i+=1)l[i]=vt(pt(t,n,i));return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();m(e,"class","workouts-list svelte-195w6tk")},m(i,r){V(i,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(i,r){if(r&8){n=i[3];let o;for(o=0;o<n.length;o+=1){const c=pt(i,n,o);l[o]?l[o].p(c,r):(l[o]=vt(c),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&j(e),he(l,i)}}}function vt(t){let e,n,l=t[7].title+"",i,r,o,c=t[7].run_type+"",u,v,d=t[7].distance+"",_,a,p,h,b=t[7].notes+"",g,P;return{c(){e=f("div"),n=f("h3"),i=N(l),r=w(),o=f("div"),u=N(c),v=N(" - "),_=N(d),a=N("km"),p=w(),h=f("div"),g=N(b),P=w(),m(e,"class","workout-item-detailed svelte-195w6tk")},m(k,$){V(k,e,$),s(e,n),s(n,i),s(e,r),s(e,o),s(o,u),s(o,v),s(o,_),s(o,a),s(e,p),s(e,h),s(h,g),s(e,P)},p(k,$){$&8&&l!==(l=k[7].title+"")&&I(i,l),$&8&&c!==(c=k[7].run_type+"")&&I(u,c),$&8&&d!==(d=k[7].distance+"")&&I(_,d),$&8&&b!==(b=k[7].notes+"")&&I(g,b)},d(k){k&&j(e)}}}function _n(t){let e;return{c(){e=f("div"),e.textContent="No upcoming runs scheduled"},m(n,l){V(n,e,l)},p:H,d(n){n&&j(e)}}}function pn(t){let e,n,l=t[2].title+"",i,r,o,c,u=t[2].week+"",v,d,_=Pe[t[2].day]+"",a,p,h,b=t[2].run_type+"",g,P,k=t[2].distance+"",$,T;return{c(){e=f("div"),n=f("h3"),i=N(l),r=w(),o=f("div"),c=N("Week "),v=N(u),d=N(", "),a=N(_),p=w(),h=f("div"),g=N(b),P=N(" - "),$=N(k),T=N("km"),m(e,"class","workout-item-detailed svelte-195w6tk")},m(S,A){V(S,e,A),s(e,n),s(n,i),s(e,r),s(e,o),s(o,c),s(o,v),s(o,d),s(o,a),s(e,p),s(e,h),s(h,g),s(h,P),s(h,$),s(h,T)},p(S,A){A&4&&l!==(l=S[2].title+"")&&I(i,l),A&4&&u!==(u=S[2].week+"")&&I(v,u),A&4&&_!==(_=Pe[S[2].day]+"")&&I(a,_),A&4&&b!==(b=S[2].run_type+"")&&I(g,b),A&4&&k!==(k=S[2].distance+"")&&I($,k)},d(S){S&&j(e)}}}function ht(t){let e,n,l=Pe[t[7].day]+"",i,r,o,c,u=t[7].distance+"",v,d,_,a,p=t[7].run_type+"",h,b;return{c(){e=f("div"),n=f("div"),i=N(l),r=w(),o=f("div"),c=f("span"),v=N(u),d=N(" km"),_=w(),a=f("div"),h=N(p),b=w(),se(n,"width","90px"),se(c,"justity-content","right"),se(o,"width","60px"),m(e,"class","workout-item svelte-195w6tk")},m(g,P){V(g,e,P),s(e,n),s(n,i),s(e,r),s(e,o),s(o,c),s(c,v),s(c,d),s(e,_),s(e,a),s(a,h),s(e,b)},p(g,P){P&1&&l!==(l=Pe[g[7].day]+"")&&I(i,l),P&1&&u!==(u=g[7].distance+"")&&I(v,u),P&1&&p!==(p=g[7].run_type+"")&&I(h,p)},d(g){g&&j(e)}}}function vn(t){let e;function n(r,o){return r[4]?an:cn}let l=n(t),i=l(t);return{c(){e=f("div"),i.c(),m(e,"class","dashboard svelte-195w6tk")},m(r,o){V(r,e,o),i.m(e,null)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null)))},i:H,o:H,d(r){r&&j(e),i.d()}}}function hn(t,e,n){let l,i,r,o,c,u;Q(t,U,d=>n(1,u=d));let v=new Date().getDay()===0?7:new Date().getDay();return t.$$.update=()=>{var d,_,a;t.$$.dirty&2&&n(5,l=u?Math.ceil((new Date().getTime()-new Date(u.start_date).getTime())/(1e3*60*60*24*7)):1),t.$$.dirty&34&&n(4,i=u?l>=1&&l<=u.weeks:!1),t.$$.dirty&34&&n(0,r=(_=(d=u==null?void 0:u.runs)==null?void 0:d.filter(p=>p.week===l))!=null?_:[]),t.$$.dirty&1&&n(3,o=r.filter(p=>p.day===v)),t.$$.dirty&34&&n(2,c=(a=u==null?void 0:u.runs)==null?void 0:a.find(p=>p.week===l?p.day>v:p.week===l+1))},[r,u,c,o,i,l]}class mn extends te{constructor(e){super(),ee(this,e,hn,vn,X,{})}}function gn(t){let e,n,l,i,r=t[0].name+"",o,c,u,v,d=t[0].weeks+"",_,a,p=t[0].start_date+"",h,b,g,P,k,$;return{c(){e=f("div"),n=f("div"),l=f("h1"),i=N("--- "),o=N(r),c=N(" ---"),u=w(),v=f("p"),_=N(d),a=N(" weeks - Start: "),h=N(p),b=w(),g=f("div"),P=f("button"),P.textContent="Plan Settings",m(n,"class","plan-info"),m(g,"class","button-group svelte-d8dpri"),m(e,"class","header svelte-d8dpri")},m(T,S){V(T,e,S),s(e,n),s(n,l),s(l,i),s(l,o),s(l,c),s(n,u),s(n,v),s(v,_),s(v,a),s(v,h),s(e,b),s(e,g),s(g,P),k||($=F(P,"click",t[1]),k=!0)},p(T,[S]){S&1&&r!==(r=T[0].name+"")&&I(o,r),S&1&&d!==(d=T[0].weeks+"")&&I(_,d),S&1&&p!==(p=T[0].start_date+"")&&I(h,p)},i:H,o:H,d(T){T&&j(e),k=!1,$()}}}function bn(t,e,n){let l;Q(t,U,r=>n(0,l=r));async function i(){me.set("plan-settings"),oe.set(!0)}return[l,i]}class kn extends te{constructor(e){super(),ee(this,e,bn,gn,X,{})}}function mt(t,e,n){const l=t.slice();return l[3]=e[n],l}function wn(t){let e,n,l,i,r;return{c(){e=f("h1"),e.textContent="No plan Selected",n=w(),l=f("button"),l.textContent="Select Plan"},m(o,c){V(o,e,c),V(o,n,c),V(o,l,c),i||(r=F(l,"click",t[2]),i=!0)},p:H,i:H,o:H,d(o){o&&j(e),o&&j(n),o&&j(l),i=!1,r()}}}function yn(t){let e,n,l,i,r,o;n=new mn({});let c=t[1],u=[];for(let d=0;d<c.length;d+=1)u[d]=gt(mt(t,c,d));const v=d=>W(u[d],1,1,()=>{u[d]=null});return{c(){e=f("div"),ie(n.$$.fragment),l=w(),i=f("div"),r=f("div");for(let d=0;d<u.length;d+=1)u[d].c();m(r,"class","weeks svelte-13l5xpp"),m(i,"class","weeks-container svelte-13l5xpp"),m(e,"class","content svelte-13l5xpp")},m(d,_){V(d,e,_),Z(n,e,null),s(e,l),s(e,i),s(i,r);for(let a=0;a<u.length;a+=1)u[a]&&u[a].m(r,null);o=!0},p(d,_){if(_&2){c=d[1];let a;for(a=0;a<c.length;a+=1){const p=mt(d,c,a);u[a]?(u[a].p(p,_),q(u[a],1)):(u[a]=gt(p),u[a].c(),q(u[a],1),u[a].m(r,null))}for(ue(),a=c.length;a<u.length;a+=1)v(a);ae()}},i(d){if(!o){q(n.$$.fragment,d);for(let _=0;_<c.length;_+=1)q(u[_]);o=!0}},o(d){W(n.$$.fragment,d),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)W(u[_]);o=!1},d(d){d&&j(e),x(n),he(u,d)}}}function gt(t){let e,n;return e=new un({props:{week:t[3]}}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},p(l,i){const r={};i&2&&(r.week=l[3]),e.$set(r)},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function $n(t){let e,n,l,i,r,o;n=new kn({});const c=[yn,wn],u=[];function v(d,_){return d[0]!=null?0:1}return i=v(t),r=u[i]=c[i](t),{c(){e=f("div"),ie(n.$$.fragment),l=w(),r.c(),m(e,"class","overview svelte-13l5xpp")},m(d,_){V(d,e,_),Z(n,e,null),s(e,l),u[i].m(e,null),o=!0},p(d,[_]){let a=i;i=v(d),i===a?u[i].p(d,_):(ue(),W(u[a],1,1,()=>{u[a]=null}),ae(),r=u[i],r?r.p(d,_):(r=u[i]=c[i](d),r.c()),q(r,1),r.m(e,null))},i(d){o||(q(n.$$.fragment,d),q(r),o=!0)},o(d){W(n.$$.fragment,d),W(r),o=!1},d(d){d&&j(e),x(n),u[i].d()}}}function Dn(t,e,n){let l,i;Q(t,U,o=>n(0,i=o));const r=()=>{fe.set("plans-list")};return t.$$.update=()=>{t.$$.dirty&1&&n(1,l=i?Array.from({length:i.weeks},(o,c)=>c+1):[])},[i,l,r]}class Pn extends te{constructor(e){super(),ee(this,e,Dn,$n,X,{})}}function bt(t){let e,n,l,i,r;return{c(){e=f("label"),n=f("input"),m(n,"type","checkbox"),m(n,"class","checkbox svelte-1kuuja1"),n.checked=l=t[0].completed,m(e,"class","checkbox-wrapper svelte-1kuuja1")},m(o,c){V(o,e,c),s(e,n),i||(r=F(n,"change",t[8]),i=!0)},p(o,c){c&1&&l!==(l=o[0].completed)&&(n.checked=l)},d(o){o&&j(e),i=!1,r()}}}function kt(t){let e,n,l,i,r,o=t[0].notes+"",c;return{c(){e=f("div"),n=f("label"),n.textContent="Notes",l=w(),i=f("div"),r=f("div"),c=N(o),m(n,"for","notes"),m(r,"id","notes"),m(r,"class","notes"),m(i,"class","notes-display svelte-1kuuja1"),m(e,"class","notes-section")},m(u,v){V(u,e,v),s(e,n),s(e,l),s(e,i),s(i,r),s(r,c)},p(u,v){v&1&&o!==(o=u[0].notes+"")&&I(c,o)},d(u){u&&j(e)}}}function Cn(t){let e,n,l,i,r,o,c,u,v,d=t[0].title+"",_,a,p,h,b,g=t[0].run_type+"",P,k,$=t[0].distance+"",T,S,A,M,O,C,L,D=t[3]&&bt(t),y=t[0].notes!=""&&kt(t);return{c(){e=f("div"),n=f("div"),l=f("p"),i=N(t[1]),r=w(),o=f("div"),c=w(),u=f("div"),v=f("h1"),_=N(d),a=w(),D&&D.c(),p=w(),h=f("div"),b=f("p"),P=N(g),k=N(" \u2022 "),T=N($),S=N(" km"),A=w(),y&&y.c(),M=w(),O=f("button"),O.innerHTML="<span>Edit Run</span>",m(o,"class","color-bar svelte-1kuuja1"),se(o,"background-color",t[2]),m(v,"class","heading"),m(u,"class","header svelte-1kuuja1"),se(b,"font-size","20px"),m(h,"class","run-info"),m(O,"class","edit-btn svelte-1kuuja1"),m(e,"class","container svelte-1kuuja1")},m(R,E){V(R,e,E),s(e,n),s(n,l),s(l,i),s(e,r),s(e,o),s(e,c),s(e,u),s(u,v),s(v,_),s(u,a),D&&D.m(u,null),s(e,p),s(e,h),s(h,b),s(b,P),s(b,k),s(b,T),s(b,S),s(e,A),y&&y.m(e,null),s(e,M),s(e,O),C||(L=F(O,"click",t[4]),C=!0)},p(R,[E]){E&2&&I(i,R[1]),E&4&&se(o,"background-color",R[2]),E&1&&d!==(d=R[0].title+"")&&I(_,d),R[3]?D?D.p(R,E):(D=bt(R),D.c(),D.m(u,null)):D&&(D.d(1),D=null),E&1&&g!==(g=R[0].run_type+"")&&I(P,g),E&1&&$!==($=R[0].distance+"")&&I(T,$),R[0].notes!=""?y?y.p(R,E):(y=kt(R),y.c(),y.m(e,M)):y&&(y.d(1),y=null)},i:H,o:H,d(R){R&&j(e),D&&D.d(),y&&y.d(),C=!1,L()}}}function Sn(t,e,n){let l,i,r,o,c,u;Q(t,U,a=>n(6,c=a)),Q(t,ve,a=>n(7,u=a));function v(){me.set("run-edit")}function d(a){ve.update(p=>({...p,completed:a})),U.update(p=>({...p,runs:p.runs.map(h=>h.id===l.id?{...h,completed:a}:h),convertValues:p.convertValues}))}const _=a=>d(!l.completed);return t.$$.update=()=>{t.$$.dirty&128&&n(0,l=u),t.$$.dirty&65&&n(1,i=(()=>{const a=new Date(c.start_date);return a.setDate(a.getDate()+(l.week-1)*7+l.day-1),a.toDateString()})()),t.$$.dirty&2&&n(3,r=new Date>new Date(i)),t.$$.dirty&1&&n(2,o=Ie[l.run_type]||"#grey")},[l,i,o,r,v,d,c,u,_]}class Nn extends te{constructor(e){super(),ee(this,e,Sn,Cn,X,{})}}function wt(t,e,n){const l=t.slice();return l[10]=e[n],l}function yt(t){let e,n=t[10]+"",l;return{c(){e=f("option"),l=N(n),e.__value=t[10],e.value=e.__value},m(i,r){V(i,e,r),s(e,l)},p:H,d(i){i&&j(e)}}}function Rn(t){let e,n,l,i,r,o,c,u,v,d,_,a,p,h,b,g,P,k,$,T,S,A,M,O,C,L,D,y,R,E,G,We,ge,Ne,Fe,ce,Be,Re,ze,Oe,Ee,Me,Ue,be=Object.values(qe),J=[];for(let B=0;B<be.length;B+=1)J[B]=yt(wt(t,be,B));return{c(){var B;e=f("div"),n=f("div"),l=f("h2"),l.textContent="Edit run",i=w(),r=f("form"),o=f("div"),c=f("label"),c.textContent="Title",u=w(),v=f("input"),d=w(),_=f("div"),a=f("label"),a.textContent="Distance (km)",p=w(),h=f("input"),b=w(),g=f("div"),P=f("label"),P.textContent="Workout",k=w(),$=f("select");for(let K=0;K<J.length;K+=1)J[K].c();T=w(),S=f("div"),A=f("label"),A.textContent="Week",M=w(),O=f("input"),L=w(),D=f("div"),y=f("label"),y.textContent="Day",R=w(),E=f("input"),We=w(),ge=f("div"),Ne=f("label"),Ne.textContent="Notes",Fe=w(),ce=f("textarea"),Be=w(),Re=f("button"),Re.textContent="Save Run",ze=w(),Oe=f("div"),Ee=f("button"),Ee.textContent="Delete Run",m(c,"for","title"),m(v,"id","title"),m(v,"type","text"),v.required=!0,m(o,"class","form-group"),m(a,"for","distance"),m(h,"id","distance"),m(h,"type","number"),m(h,"min","0"),m(h,"step","0.1"),h.required=!0,m(_,"class","form-group"),m(P,"for","run_type"),m($,"id","run_type"),$.required=!0,t[0].run_type===void 0&&Le(()=>t[6].call($)),m(g,"class","form-group"),m(A,"for","week"),m(O,"id","week"),m(O,"type","number"),m(O,"min","1"),m(O,"max",C=((B=t[1])==null?void 0:B.weeks)||1),O.required=!0,m(S,"class","form-group"),m(y,"for","day"),m(E,"id","day"),m(E,"type","text"),E.readOnly=!0,E.value=G=Pe[t[0].day],m(D,"class","form-group"),m(Ne,"for","notes"),m(ce,"id","notes"),m(ce,"rows","4"),m(ce,"placeholder","Notes for workout"),m(ge,"class","form-group"),m(Re,"type","submit"),m(n,"class","content svelte-gosq5z"),m(Oe,"class","bottom"),m(e,"class","run-edit svelte-gosq5z")},m(B,K){V(B,e,K),s(e,n),s(n,l),s(n,i),s(n,r),s(r,o),s(o,c),s(o,u),s(o,v),z(v,t[0].title),s(r,d),s(r,_),s(_,a),s(_,p),s(_,h),z(h,t[0].distance),s(r,b),s(r,g),s(g,P),s(g,k),s(g,$);for(let _e=0;_e<J.length;_e+=1)J[_e]&&J[_e].m($,null);Ke($,t[0].run_type,!0),s(r,T),s(r,S),s(S,A),s(S,M),s(S,O),z(O,t[0].week),s(r,L),s(r,D),s(D,y),s(D,R),s(D,E),s(r,We),s(r,ge),s(ge,Ne),s(ge,Fe),s(ge,ce),z(ce,t[0].notes),s(r,Be),s(r,Re),s(e,ze),s(e,Oe),s(Oe,Ee),Me||(Ue=[F(v,"input",t[4]),F(h,"input",t[5]),F($,"change",t[6]),F(O,"input",t[7]),F(ce,"input",t[8]),F(r,"submit",Rt(t[2])),F(Ee,"click",t[3])],Me=!0)},p(B,[K]){var _e;if(K&1&&v.value!==B[0].title&&z(v,B[0].title),K&1&&De(h.value)!==B[0].distance&&z(h,B[0].distance),K&0){be=Object.values(qe);let ne;for(ne=0;ne<be.length;ne+=1){const Ge=wt(B,be,ne);J[ne]?J[ne].p(Ge,K):(J[ne]=yt(Ge),J[ne].c(),J[ne].m($,null))}for(;ne<J.length;ne+=1)J[ne].d(1);J.length=be.length}K&1&&Ke($,B[0].run_type),K&2&&C!==(C=((_e=B[1])==null?void 0:_e.weeks)||1)&&m(O,"max",C),K&1&&De(O.value)!==B[0].week&&z(O,B[0].week),K&1&&G!==(G=Pe[B[0].day])&&E.value!==G&&(E.value=G),K&1&&z(ce,B[0].notes)},i:H,o:H,d(B){B&&j(e),he(J,B),Me=!1,re(Ue)}}}function On(t,e,n){let l,i;Q(t,ve,p=>n(9,l=p)),Q(t,U,p=>n(1,i=p));let r=l;async function o(p){p.preventDefault(),ve.set(r),U.update(h=>({...h,runs:h.runs.map(b=>b.id===r.id?r:b),convertValues:h.convertValues})),me.set("run-info")}function c(){ve.set(null),U.update(p=>({...p,runs:p.runs.filter(h=>h.id!==r.id),convertValues:p==null?void 0:p.convertValues})),oe.set(!1)}function u(){r.title=this.value,n(0,r)}function v(){r.distance=De(this.value),n(0,r)}function d(){r.run_type=Vt(this),n(0,r)}function _(){r.week=De(this.value),n(0,r)}function a(){r.notes=this.value,n(0,r)}return[r,i,o,c,u,v,d,_,a]}class En extends te{constructor(e){super(),ee(this,e,On,Rn,X,{})}}function Tn(t){let e,n,l,i,r,o,c,u,v,d,_,a,p,h,b,g,P,k,$,T,S,A,M,O,C,L,D,y,R;return{c(){e=f("div"),n=f("h2"),n.textContent="Plan Settings",l=w(),i=f("form"),r=f("div"),o=f("label"),o.textContent="Plan Name",c=w(),u=f("input"),v=w(),d=f("div"),_=f("label"),_.textContent="Weeks",a=w(),p=f("input"),h=w(),b=f("div"),g=f("label"),g.textContent="Start Date",P=w(),k=f("input"),$=w(),T=f("div"),S=f("label"),S.textContent="Description",A=w(),M=f("textarea"),O=w(),C=f("button"),C.textContent="Save Changes",L=w(),D=f("button"),D.textContent="Delete",m(o,"for","name"),m(u,"type","text"),m(u,"id","name"),u.required=!0,m(r,"class","form-group"),m(_,"for","weeks"),m(p,"type","number"),m(p,"id","weeks"),m(p,"min","1"),m(p,"max","24"),p.required=!0,m(d,"class","form-group"),m(g,"for","start_date"),m(k,"type","date"),m(k,"id","start_date"),k.required=!0,m(b,"class","form-group"),m(S,"for","description"),m(M,"id","description"),m(M,"rows","4"),m(T,"class","form-group"),m(C,"type","submit"),m(e,"class","container")},m(E,G){V(E,e,G),s(e,n),s(e,l),s(e,i),s(i,r),s(r,o),s(r,c),s(r,u),z(u,t[0].name),s(i,v),s(i,d),s(d,_),s(d,a),s(d,p),z(p,t[0].weeks),s(i,h),s(i,b),s(b,g),s(b,P),s(b,k),z(k,t[0].start_date),s(i,$),s(i,T),s(T,S),s(T,A),s(T,M),z(M,t[0].description),s(i,O),s(i,C),s(e,L),s(e,D),y||(R=[F(u,"input",t[3]),F(p,"input",t[4]),F(k,"input",t[5]),F(M,"input",t[6]),F(i,"submit",Rt(t[1])),F(D,"click",t[7])],y=!0)},p(E,[G]){G&1&&u.value!==E[0].name&&z(u,E[0].name),G&1&&De(p.value)!==E[0].weeks&&z(p,E[0].weeks),G&1&&z(k,E[0].start_date),G&1&&z(M,E[0].description)},i:H,o:H,d(E){E&&j(e),y=!1,re(R)}}}function jn(t,e,n){let l;Q(t,U,a=>n(8,l=a));let i={name:l.name,start_date:l.start_date,weeks:l.weeks,description:l.description};function r(){U.update(a=>({...a,...i,convertValues:a.convertValues}))}async function o(){try{await Gt(l.id),oe.set(!1),U.set(null)}catch(a){console.log(a)}}function c(){i.name=this.value,n(0,i)}function u(){i.weeks=De(this.value),n(0,i)}function v(){i.start_date=this.value,n(0,i)}function d(){i.description=this.value,n(0,i)}return[i,r,o,c,u,v,d,()=>o()]}class Ln extends te{constructor(e){super(),ee(this,e,jn,Tn,X,{})}}function Vn(t){let e,n,l,i,r,o,c,u,v;return{c(){e=f("div"),n=f("div"),l=f("button"),l.textContent="Overview",i=w(),r=f("button"),r.textContent="Plans",o=w(),c=f("button"),c.textContent="Analytics",m(l,"class","svelte-13wrgyi"),le(l,"active",t[0]==="overview"),m(r,"class","svelte-13wrgyi"),le(r,"active",t[0]==="plans-list"),m(c,"class","svelte-13wrgyi"),le(c,"active",t[0]==="analytics"),m(n,"class","nav-buttons svelte-13wrgyi"),m(e,"class","container svelte-13wrgyi")},m(d,_){V(d,e,_),s(e,n),s(n,l),s(n,i),s(n,r),s(n,o),s(n,c),u||(v=[F(l,"click",t[1]),F(r,"click",t[2]),F(c,"click",t[3])],u=!0)},p(d,[_]){_&1&&le(l,"active",d[0]==="overview"),_&1&&le(r,"active",d[0]==="plans-list"),_&1&&le(c,"active",d[0]==="analytics")},i:H,o:H,d(d){d&&j(e),u=!1,re(v)}}}function Mn(t,e,n){let l;return Q(t,fe,c=>n(0,l=c)),[l,()=>fe.set("overview"),()=>fe.set("plans-list"),()=>fe.set("analytics")]}class An extends te{constructor(e){super(),ee(this,e,Mn,Vn,X,{})}}function $t(t){let e,n,l;return n=new An({}),{c(){e=f("div"),ie(n.$$.fragment),m(e,"class","left-sidebar svelte-1jl77jm")},m(i,r){V(i,e,r),Z(n,e,null),l=!0},i(i){l||(q(n.$$.fragment,i),l=!0)},o(i){W(n.$$.fragment,i),l=!1},d(i){i&&j(e),x(n)}}}function Hn(t){let e;return{c(){e=f("h1"),e.textContent="No view selected"},m(n,l){V(n,e,l)},i:H,o:H,d(n){n&&j(e)}}}function qn(t){let e;return{c(){e=f("h1"),e.textContent="New Feature"},m(n,l){V(n,e,l)},i:H,o:H,d(n){n&&j(e)}}}function In(t){let e;return{c(){e=f("h1"),e.textContent="Analytics"},m(n,l){V(n,e,l)},i:H,o:H,d(n){n&&j(e)}}}function Wn(t){let e,n;return e=new Xt({}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Fn(t){let e,n;return e=new Pn({}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Dt(t){let e,n,l,i,r,o,c,u;const v=[Un,zn,Bn],d=[];function _(a,p){return a[3]==="run-info"?0:a[3]==="run-edit"?1:a[3]==="plan-settings"?2:-1}return~(i=_(t))&&(r=d[i]=v[i](t)),{c(){e=f("div"),n=f("button"),n.textContent="x",l=w(),r&&r.c(),m(n,"class","close-button"),m(e,"class","right-sidebar svelte-1jl77jm")},m(a,p){V(a,e,p),s(e,n),s(e,l),~i&&d[i].m(e,null),o=!0,c||(u=F(n,"click",t[4]),c=!0)},p(a,p){let h=i;i=_(a),i!==h&&(r&&(ue(),W(d[h],1,1,()=>{d[h]=null}),ae()),~i?(r=d[i],r||(r=d[i]=v[i](a),r.c()),q(r,1),r.m(e,null)):r=null)},i(a){o||(q(r),o=!0)},o(a){W(r),o=!1},d(a){a&&j(e),~i&&d[i].d(),c=!1,u()}}}function Bn(t){let e,n;return e=new Ln({}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function zn(t){let e,n;return e=new En({}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Un(t){let e,n;return e=new Nn({}),{c(){ie(e.$$.fragment)},m(l,i){Z(e,l,i),n=!0},i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Gn(t){let e,n,l,i,r,o,c,u=t[0]&&$t();const v=[Fn,Wn,In,qn,Hn],d=[];function _(p,h){return p[1]==="overview"?0:p[1]==="plans-list"?1:p[1]==="analytics"?2:p[1]==="settings"?3:4}i=_(t),r=d[i]=v[i](t);let a=t[2]&&Dt(t);return{c(){e=f("div"),u&&u.c(),n=w(),l=f("div"),r.c(),o=w(),a&&a.c(),m(l,"class","center-content svelte-1jl77jm"),m(e,"class","home-container svelte-1jl77jm")},m(p,h){V(p,e,h),u&&u.m(e,null),s(e,n),s(e,l),d[i].m(l,null),s(e,o),a&&a.m(e,null),c=!0},p(p,[h]){p[0]?u?h&1&&q(u,1):(u=$t(),u.c(),q(u,1),u.m(e,n)):u&&(ue(),W(u,1,1,()=>{u=null}),ae());let b=i;i=_(p),i!==b&&(ue(),W(d[b],1,1,()=>{d[b]=null}),ae(),r=d[i],r||(r=d[i]=v[i](p),r.c()),q(r,1),r.m(l,null)),p[2]?a?(a.p(p,h),h&4&&q(a,1)):(a=Dt(p),a.c(),q(a,1),a.m(e,null)):a&&(ue(),W(a,1,1,()=>{a=null}),ae())},i(p){c||(q(u),q(r),q(a),c=!0)},o(p){W(u),W(r),W(a),c=!1},d(p){p&&j(e),u&&u.d(),d[i].d(),a&&a.d()}}}function Jn(t,e,n){let l,i,r,o;return Q(t,Ve,u=>n(0,l=u)),Q(t,fe,u=>n(1,i=u)),Q(t,oe,u=>n(2,r=u)),Q(t,me,u=>n(3,o=u)),[l,i,r,o,()=>Nt(oe,r=!1,r)]}class Kn extends te{constructor(e){super(),ee(this,e,Jn,Gn,X,{})}}function Yn(t){let e,n,l,i,r,o;return{c(){e=f("div"),n=f("button"),n.innerHTML='<span class="toggle-icon">=</span>',l=w(),i=f("div"),i.innerHTML="<h1>Pace Planner</h1>",m(n,"class","sidebar-toggle"),m(e,"class","topbar svelte-e0dnua")},m(c,u){V(c,e,u),s(e,n),s(e,l),s(e,i),r||(o=F(n,"click",t[0]),r=!0)},p:H,i:H,o:H,d(c){c&&j(e),r=!1,o()}}}function Qn(t,e,n){let l;Q(t,Ve,r=>n(1,l=r));function i(){Nt(Ve,l=!l,l)}return[i]}class Xn extends te{constructor(e){super(),ee(this,e,Qn,Yn,X,{})}}function Zn(t){let e,n,l,i,r;return n=new Xn({}),i=new Kn({}),{c(){e=f("body"),ie(n.$$.fragment),l=w(),ie(i.$$.fragment)},m(o,c){V(o,e,c),Z(n,e,null),s(e,l),Z(i,e,null),r=!0},p:H,i(o){r||(q(n.$$.fragment,o),q(i.$$.fragment,o),r=!0)},o(o){W(n.$$.fragment,o),W(i.$$.fragment,o),r=!1},d(o){o&&j(e),x(n),x(i)}}}class xn extends te{constructor(e){super(),ee(this,e,null,Zn,X,{})}}new xn({target:document.getElementById("app")});
